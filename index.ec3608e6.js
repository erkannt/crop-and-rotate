function t(t){return t&&t.__esModule?t.default:t}var e,r,i,n,a,o,s,h=globalThis,l={};l=function(){function t(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,i)}return r}function e(e){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?t(Object(i),!0).forEach(function(t){var r,n;r=t,n=i[t],(r=o(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,o(i.key),i)}}function n(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return a(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(t,e)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,i=Array(e);r<e;r++)i[r]=t[r];return i}function o(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}var s="undefined"!=typeof window&&void 0!==window.document,h=s?window:{},l=!!s&&!!h.document.documentElement&&"ontouchstart"in h.document.documentElement,u=!!s&&"PointerEvent"in h,c="cropper",f="crop",d="move",p="zoom",m="".concat(c,"-crop"),g="".concat(c,"-disabled"),v="".concat(c,"-hidden"),y="".concat(c,"-hide"),b="".concat(c,"-invisible"),w="".concat(c,"-modal"),_="".concat(c,"-move"),x="".concat(c,"Action"),k="".concat(c,"Preview"),E="crop",C="move",B="none",A="crop",S="cropend",I="cropmove",z="cropstart",O="dblclick",T=u?"pointerdown":l?"touchstart":"mousedown",R=u?"pointermove":l?"touchmove":"mousemove",D=u?"pointerup pointercancel":l?"touchend touchcancel":"mouseup",M="ready",U="resize",L="wheel",N="zoom",P="image/jpeg",F=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,j=/^data:/,W=/^data:image\/jpeg;base64,/,H=/^img|canvas$/i,Z={// Define the view mode of the cropper
viewMode:0,// 0, 1, 2, 3
// Define the dragging mode of the cropper
dragMode:E,// 'crop', 'move' or 'none'
// Define the initial aspect ratio of the crop box
initialAspectRatio:NaN,// Define the aspect ratio of the crop box
aspectRatio:NaN,// An object with the previous cropping result data
data:null,// A selector for adding extra containers to preview
preview:"",// Re-render the cropper when resize the window
responsive:!0,// Restore the cropped area after resize the window
restore:!0,// Check if the current image is a cross-origin image
checkCrossOrigin:!0,// Check the current image's Exif Orientation information
checkOrientation:!0,// Show the black modal
modal:!0,// Show the dashed lines for guiding
guides:!0,// Show the center indicator for guiding
center:!0,// Show the white modal to highlight the crop box
highlight:!0,// Show the grid background
background:!0,// Enable to crop the image automatically when initialize
autoCrop:!0,// Define the percentage of automatic cropping area when initializes
autoCropArea:.8,// Enable to move the image
movable:!0,// Enable to rotate the image
rotatable:!0,// Enable to scale the image
scalable:!0,// Enable to zoom the image
zoomable:!0,// Enable to zoom the image by dragging touch
zoomOnTouch:!0,// Enable to zoom the image by wheeling mouse
zoomOnWheel:!0,// Define zoom ratio when zoom the image by wheeling mouse
wheelZoomRatio:.1,// Enable to move the crop box
cropBoxMovable:!0,// Enable to resize the crop box
cropBoxResizable:!0,// Toggle drag mode between "crop" and "move" when click twice on the cropper
toggleDragModeOnDblclick:!0,// Size limitation
minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,// Shortcuts of events
ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},Y=Number.isNaN||h.isNaN;/**
   * Check if the given value is a number.
   * @param {*} value - The value to check.
   * @returns {boolean} Returns `true` if the given value is a number, else `false`.
   */function X(t){return"number"==typeof t&&!Y(t)}/**
   * Check if the given value is a positive number.
   * @param {*} value - The value to check.
   * @returns {boolean} Returns `true` if the given value is a positive number, else `false`.
   */var $=function(t){return t>0&&t<1/0};/**
   * Check if the given value is undefined.
   * @param {*} value - The value to check.
   * @returns {boolean} Returns `true` if the given value is undefined, else `false`.
   */function G(t){return void 0===t}/**
   * Check if the given value is an object.
   * @param {*} value - The value to check.
   * @returns {boolean} Returns `true` if the given value is an object, else `false`.
   */function K(t){return"object"===r(t)&&null!==t}var q=Object.prototype.hasOwnProperty;/**
   * Check if the given value is a plain object.
   * @param {*} value - The value to check.
   * @returns {boolean} Returns `true` if the given value is a plain object, else `false`.
   */function V(t){if(!K(t))return!1;try{var e=t.constructor,r=e.prototype;return e&&r&&q.call(r,"isPrototypeOf")}catch(t){return!1}}/**
   * Check if the given value is a function.
   * @param {*} value - The value to check.
   * @returns {boolean} Returns `true` if the given value is a function, else `false`.
   */function J(t){return"function"==typeof t}var Q=Array.prototype.slice;/**
   * Convert array-like or iterable object to an array.
   * @param {*} value - The value to convert.
   * @returns {Array} Returns a new array.
   */function tt(t){return Array.from?Array.from(t):Q.call(t)}/**
   * Iterate the given data.
   * @param {*} data - The data to iterate.
   * @param {Function} callback - The process function for each element.
   * @returns {*} The original data.
   */function te(t,e){return t&&J(e)&&(Array.isArray(t)||X(t.length)?tt(t).forEach(function(r,i){e.call(t,r,i,t)}):K(t)&&Object.keys(t).forEach(function(r){e.call(t,t[r],r,t)})),t}/**
   * Extend the given object.
   * @param {*} target - The target object to extend.
   * @param {*} args - The rest objects for merging to the target object.
   * @returns {Object} The extended object.
   */var tr=Object.assign||function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];return K(t)&&r.length>0&&r.forEach(function(e){K(e)&&Object.keys(e).forEach(function(r){t[r]=e[r]})}),t},ti=/\.\d*(?:0|9){12}\d*$/;/**
   * Normalize decimal number.
   * Check out {@link https://0.30000000000000004.com/}
   * @param {number} value - The value to normalize.
   * @param {number} [times=100000000000] - The times for normalizing.
   * @returns {number} Returns the normalized number.
   */function tn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return ti.test(t)?Math.round(t*e)/e:t}var ta=/^width|height|left|top|marginLeft|marginTop$/;/**
   * Apply styles to the given element.
   * @param {Element} element - The target element.
   * @param {Object} styles - The styles for applying.
   */function to(t,e){var r=t.style;te(e,function(t,e){ta.test(e)&&X(t)&&(t="".concat(t,"px")),r[e]=t})}/**
   * Add classes to the given element.
   * @param {Element} element - The target element.
   * @param {string} value - The classes to be added.
   */function ts(t,e){if(e){if(X(t.length)){te(t,function(t){ts(t,e)});return}if(t.classList){t.classList.add(e);return}var r=t.className.trim();r?0>r.indexOf(e)&&(t.className="".concat(r," ").concat(e)):t.className=e}}/**
   * Remove classes from the given element.
   * @param {Element} element - The target element.
   * @param {string} value - The classes to be removed.
   */function th(t,e){if(e){if(X(t.length)){te(t,function(t){th(t,e)});return}if(t.classList){t.classList.remove(e);return}t.className.indexOf(e)>=0&&(t.className=t.className.replace(e,""))}}/**
   * Add or remove classes from the given element.
   * @param {Element} element - The target element.
   * @param {string} value - The classes to be toggled.
   * @param {boolean} added - Add only.
   */function tl(t,e,r){if(e){if(X(t.length)){te(t,function(t){tl(t,e,r)});return}// IE10-11 doesn't support the second parameter of `classList.toggle`
r?ts(t,e):th(t,e)}}var tu=/([a-z\d])([A-Z])/g;/**
   * Transform the given string from camelCase to kebab-case
   * @param {string} value - The value to transform.
   * @returns {string} The transformed value.
   */function tc(t){return t.replace(tu,"$1-$2").toLowerCase()}/**
   * Get data from the given element.
   * @param {Element} element - The target element.
   * @param {string} name - The data key to get.
   * @returns {string} The data value.
   */function tf(t,e){return K(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-".concat(tc(e)))}/**
   * Set data to the given element.
   * @param {Element} element - The target element.
   * @param {string} name - The data key to set.
   * @param {string} data - The data value.
   */function td(t,e,r){K(r)?t[e]=r:t.dataset?t.dataset[e]=r:t.setAttribute("data-".concat(tc(e)),r)}var tp=/\s\s*/,tm=function(){var t=!1;if(s){var e=!1,r=function(){},i=Object.defineProperty({},"once",{get:function(){return t=!0,e},/**
         * This setter can fix a `TypeError` in strict mode
         * {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Getter_only}
         * @param {boolean} value - The value to set
         */set:function(t){e=t}});h.addEventListener("test",r,i),h.removeEventListener("test",r,i)}return t}();/**
   * Remove event listener from the target element.
   * @param {Element} element - The event target.
   * @param {string} type - The event type(s).
   * @param {Function} listener - The event listener.
   * @param {Object} options - The event options.
   */function tg(t,e,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=r;e.trim().split(tp).forEach(function(e){if(!tm){var a=t.listeners;a&&a[e]&&a[e][r]&&(n=a[e][r],delete a[e][r],0===Object.keys(a[e]).length&&delete a[e],0===Object.keys(a).length&&delete t.listeners)}t.removeEventListener(e,n,i)})}/**
   * Add event listener to the target element.
   * @param {Element} element - The event target.
   * @param {string} type - The event type(s).
   * @param {Function} listener - The event listener.
   * @param {Object} options - The event options.
   */function tv(t,e,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=r;e.trim().split(tp).forEach(function(e){if(i.once&&!tm){var a=t.listeners,o=void 0===a?{}:a;n=function(){delete o[e][r],t.removeEventListener(e,n,i);for(var a=arguments.length,s=Array(a),h=0;h<a;h++)s[h]=arguments[h];r.apply(t,s)},o[e]||(o[e]={}),o[e][r]&&t.removeEventListener(e,o[e][r],i),o[e][r]=n,t.listeners=o}t.addEventListener(e,n,i)})}/**
   * Dispatch event on the target element.
   * @param {Element} element - The event target.
   * @param {string} type - The event type(s).
   * @param {Object} data - The additional event data.
   * @returns {boolean} Indicate if the event is default prevented or not.
   */function ty(t,e,r){var i;return J(Event)&&J(CustomEvent)?i=new CustomEvent(e,{detail:r,bubbles:!0,cancelable:!0}):(i=document.createEvent("CustomEvent")).initCustomEvent(e,!0,!0,r),t.dispatchEvent(i)}/**
   * Get the offset base on the document.
   * @param {Element} element - The target element.
   * @returns {Object} The offset data.
   */function tb(t){var e=t.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}var tw=h.location,t_=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;/**
   * Check if the given URL is a cross origin URL.
   * @param {string} url - The target URL.
   * @returns {boolean} Returns `true` if the given URL is a cross origin URL, else `false`.
   */function tx(t){var e=t.match(t_);return null!==e&&(e[1]!==tw.protocol||e[2]!==tw.hostname||e[3]!==tw.port)}/**
   * Add timestamp to the given URL.
   * @param {string} url - The target URL.
   * @returns {string} The result URL.
   */function tk(t){var e="timestamp=".concat(new Date().getTime());return t+(-1===t.indexOf("?")?"?":"&")+e}/**
   * Get transforms base on the given object.
   * @param {Object} obj - The target object.
   * @returns {string} A string contains transform values.
   */function tE(t){var e=t.rotate,r=t.scaleX,i=t.scaleY,n=t.translateX,a=t.translateY,o=[];X(n)&&0!==n&&o.push("translateX(".concat(n,"px)")),X(a)&&0!==a&&o.push("translateY(".concat(a,"px)")),X(e)&&0!==e&&o.push("rotate(".concat(e,"deg)")),X(r)&&1!==r&&o.push("scaleX(".concat(r,")")),X(i)&&1!==i&&o.push("scaleY(".concat(i,")"));var s=o.length?o.join(" "):"none";return{WebkitTransform:s,msTransform:s,transform:s}}/**
   * Get a pointer from an event object.
   * @param {Object} event - The target event object.
   * @param {boolean} endOnly - Indicates if only returns the end point coordinate or not.
   * @returns {Object} The result pointer contains start and/or end point coordinates.
   */function tC(t,r){var i=t.pageX,n=t.pageY,a={endX:i,endY:n};return r?a:e({startX:i,startY:n},a)}/**
   * Get the max sizes in a rectangle under the given aspect ratio.
   * @param {Object} data - The original sizes.
   * @param {string} [type='contain'] - The adjust type.
   * @returns {Object} The result sizes.
   */function tB(t){var e=t.aspectRatio,r=t.height,i=t.width,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"contain",a=$(i),o=$(r);if(a&&o){var s=r*e;"contain"===n&&s>i||"cover"===n&&s<i?r=i/e:i=r*e}else a?r=i/e:o&&(i=r*e);return{width:i,height:r}}var tA=String.fromCharCode,tS=/^data:.*,/,tI=h.Cropper,tz=/*#__PURE__*/function(){var t,e;/**
     * Create a new Cropper.
     * @param {Element} element - The target element for cropping.
     * @param {Object} [options={}] - The configuration options.
     */function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,r),!t||!H.test(t.tagName))throw Error("The first argument is required and must be an <img> or <canvas> element.");this.element=t,this.options=tr({},Z,V(e)&&e),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return t=[{key:"init",value:function(){var t,e=this.element,r=e.tagName.toLowerCase();if(!e[c]){if(e[c]=this,"img"===r){// Stop when it's a blank image
if(this.isImg=!0,// e.g.: "img/picture.jpg"
t=e.getAttribute("src")||"",this.originalUrl=t,!t)return;// e.g.: "https://example.com/img/picture.jpg"
t=e.src}else"canvas"===r&&window.HTMLCanvasElement&&(t=e.toDataURL());this.load(t)}}},{key:"load",value:function(t){var e=this;if(t){this.url=t,this.imageData={};var r,i,n,a=this.element,o=this.options;// Only IE10+ supports Typed Arrays
if(o.rotatable||o.scalable||(o.checkOrientation=!1),!o.checkOrientation||!window.ArrayBuffer){this.clone();return}// Detect the mime type of the image directly if it is a Data URL
if(j.test(t)){// Read ArrayBuffer from Data URL of JPEG images directly for better performance
W.test(t)?this.read((r=atob(t.replace(tS,"")),i=new ArrayBuffer(r.length),te(n=new Uint8Array(i),function(t,e){n[e]=r.charCodeAt(e)}),i)):// the rest types of Data URLs are not necessary to check orientation at all.
this.clone();return}// 1. Detect the mime type of the image by a XMLHttpRequest.
// 2. Load the image as ArrayBuffer for reading orientation if its a JPEG image.
var s=new XMLHttpRequest,h=this.clone.bind(this);this.reloading=!0,this.xhr=s,// 1. Cross origin requests are only supported for protocol schemes:
// http, https, data, chrome, chrome-extension.
// 2. Access to XMLHttpRequest from a Data URL will be blocked by CORS policy
// in some browsers as IE11 and Safari.
s.onabort=h,s.onerror=h,s.ontimeout=h,s.onprogress=function(){// Abort the request directly if it not a JPEG image for better performance
s.getResponseHeader("content-type")!==P&&s.abort()},s.onload=function(){e.read(s.response)},s.onloadend=function(){e.reloading=!1,e.xhr=null},o.checkCrossOrigin&&tx(t)&&a.crossOrigin&&(t=tk(t)),// The third parameter is required for avoiding side-effect (#682)
s.open("GET",t,!0),s.responseType="arraybuffer",s.withCredentials="use-credentials"===a.crossOrigin,s.send()}}},{key:"read",value:function(t){var e=this.options,r=this.imageData,i=/**
   * Get orientation value from given array buffer.
   * @param {ArrayBuffer} arrayBuffer - The array buffer to read.
   * @returns {number} The read orientation value.
   */function(t){var e=new DataView(t);// Ignores range error when the image does not have correct Exif information
try{// Only handle JPEG image (start by 0xFFD8)
if(255===e.getUint8(0)&&216===e.getUint8(1))for(var r=e.byteLength,i=2;i+1<r;){if(255===e.getUint8(i)&&225===e.getUint8(i+1)){u=i;break}i+=1}if(u){var n=u+4,a=u+10;if("Exif"===/**
   * Get string from char code in data view.
   * @param {DataView} dataView - The data view for read.
   * @param {number} start - The start index.
   * @param {number} length - The read length.
   * @returns {string} The read result.
   */function(t,e,r){var i="";r+=e;for(var n=e;n<r;n+=1)i+=tA(t.getUint8(n));return i}(e,n,4)){var o=e.getUint16(a);if(((l=18761===o)||19789/* bigEndian */===o)&&42===e.getUint16(a+2,l)){var s=e.getUint32(a+4,l);s>=8&&(c=a+s)}}}if(c){var h,l,u,c,f,d,p=e.getUint16(c,l);for(d=0;d<p;d+=1)if(f=c+12*d+2,274/* Orientation */===e.getUint16(f,l)){// 8 is the offset of the current tag's value
f+=8,// Get the original orientation value
h=e.getUint16(f,l),// Override the orientation with its default value
e.setUint16(f,1,l);break}}}catch(t){h=1}return h}(t),n=0,a=1,o=1;if(i>1){// Generate a new URL which has the default orientation value
this.url=/**
   * Transform array buffer to Data URL.
   * @param {ArrayBuffer} arrayBuffer - The array buffer to transform.
   * @param {string} mimeType - The mime type of the Data URL.
   * @returns {string} The result Data URL.
   */function(t,e){for(var r=[],i=new Uint8Array(t);i.length>0;)// XXX: Babel's `toConsumableArray` helper will throw error in IE or Safari 9
// eslint-disable-next-line prefer-spread
r.push(tA.apply(null,tt(i.subarray(0,8192)))),i=i.subarray(8192);return"data:".concat(e,";base64,").concat(btoa(r.join("")))}(t,P);var s=/**
   * Parse Exif Orientation value.
   * @param {number} orientation - The orientation to parse.
   * @returns {Object} The parsed result.
   */function(t){var e=0,r=1,i=1;switch(t){// Flip horizontal
case 2:r=-1;break;// Rotate left 180°
case 3:e=-180;break;// Flip vertical
case 4:i=-1;break;// Flip vertical and rotate right 90°
case 5:e=90,i=-1;break;// Rotate right 90°
case 6:e=90;break;// Flip horizontal and rotate right 90°
case 7:e=90,r=-1;break;// Rotate left 90°
case 8:e=-90}return{rotate:e,scaleX:r,scaleY:i}}(i);n=s.rotate,a=s.scaleX,o=s.scaleY}e.rotatable&&(r.rotate=n),e.scalable&&(r.scaleX=a,r.scaleY=o),this.clone()}},{key:"clone",value:function(){var t=this.element,e=this.url,r=t.crossOrigin,i=e;this.options.checkCrossOrigin&&tx(e)&&(r||(r="anonymous"),// Bust cache when there is not a "crossOrigin" property (#519)
i=tk(e)),this.crossOrigin=r,this.crossOriginUrl=i;var n=document.createElement("img");r&&(n.crossOrigin=r),n.src=i||e,n.alt=t.alt||"The image to crop",this.image=n,n.onload=this.start.bind(this),n.onerror=this.stop.bind(this),ts(n,y),t.parentNode.insertBefore(n,t.nextSibling)}},{key:"start",value:function(){var t=this,e=this.image;e.onload=null,e.onerror=null,this.sizing=!0;// Match all browsers that use WebKit as the layout engine in iOS devices,
// such as Safari for iOS, Chrome for iOS, and in-app browsers.
var r=h.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(h.navigator.userAgent),i=function(e,r){tr(t.imageData,{naturalWidth:e,naturalHeight:r,aspectRatio:e/r}),t.initialImageData=tr({},t.imageData),t.sizing=!1,t.sized=!0,t.build()};// Most modern browsers (excepts iOS WebKit)
if(e.naturalWidth&&!r){i(e.naturalWidth,e.naturalHeight);return}var n=document.createElement("img"),a=document.body||document.documentElement;this.sizingImage=n,n.onload=function(){i(n.width,n.height),r||a.removeChild(n)},n.src=e.src,r||(n.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",a.appendChild(n))}},{key:"stop",value:function(){var t=this.image;t.onload=null,t.onerror=null,t.parentNode.removeChild(t),this.image=null}},{key:"build",value:function(){if(this.sized&&!this.ready){var t=this.element,e=this.options,r=this.image,i=t.parentNode,n=document.createElement("div");n.innerHTML='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>';var a=n.querySelector(".".concat(c,"-container")),o=a.querySelector(".".concat(c,"-canvas")),s=a.querySelector(".".concat(c,"-drag-box")),h=a.querySelector(".".concat(c,"-crop-box")),l=h.querySelector(".".concat(c,"-face"));this.container=i,this.cropper=a,this.canvas=o,this.dragBox=s,this.cropBox=h,this.viewBox=a.querySelector(".".concat(c,"-view-box")),this.face=l,o.appendChild(r),// Hide the original image
ts(t,v),// Inserts the cropper after to the current image
i.insertBefore(a,t.nextSibling),// Show the hidden image
th(r,y),this.initPreview(),this.bind(),e.initialAspectRatio=Math.max(0,e.initialAspectRatio)||NaN,e.aspectRatio=Math.max(0,e.aspectRatio)||NaN,e.viewMode=Math.max(0,Math.min(3,Math.round(e.viewMode)))||0,ts(h,v),e.guides||ts(h.getElementsByClassName("".concat(c,"-dashed")),v),e.center||ts(h.getElementsByClassName("".concat(c,"-center")),v),e.background&&ts(a,"".concat(c,"-bg")),e.highlight||ts(l,b),e.cropBoxMovable&&(ts(l,_),td(l,x,"all")),e.cropBoxResizable||(ts(h.getElementsByClassName("".concat(c,"-line")),v),ts(h.getElementsByClassName("".concat(c,"-point")),v)),this.render(),this.ready=!0,this.setDragMode(e.dragMode),e.autoCrop&&this.crop(),this.setData(e.data),J(e.ready)&&tv(t,M,e.ready,{once:!0}),ty(t,M)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var t=this.cropper.parentNode;t&&t.removeChild(this.cropper),th(this.element,v)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],e=[{key:"noConflict",value:function(){return window.Cropper=tI,r}},{key:"setDefaults",value:function(t){tr(Z,V(t)&&t)}}],t&&i(r.prototype,t),e&&i(r,e),Object.defineProperty(r,"prototype",{writable:!1}),r}();return tr(tz.prototype,{render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var t=this.element,e=this.options,r=this.container,i=this.cropper,n=Number(e.minContainerWidth),a=Number(e.minContainerHeight);ts(i,v),th(t,v);var o={width:Math.max(r.offsetWidth,n>=0?n:200),height:Math.max(r.offsetHeight,a>=0?a:100)};this.containerData=o,to(i,{width:o.width,height:o.height}),ts(t,v),th(i,v)},// Canvas (image wrapper)
initCanvas:function(){var t=this.containerData,e=this.imageData,r=this.options.viewMode,i=Math.abs(e.rotate)%180==90,n=i?e.naturalHeight:e.naturalWidth,a=i?e.naturalWidth:e.naturalHeight,o=n/a,s=t.width,h=t.height;t.height*o>t.width?3===r?s=t.height*o:h=t.width/o:3===r?h=t.width/o:s=t.height*o;var l={aspectRatio:o,naturalWidth:n,naturalHeight:a,width:s,height:h};this.canvasData=l,this.limited=1===r||2===r,this.limitCanvas(!0,!0),l.width=Math.min(Math.max(l.width,l.minWidth),l.maxWidth),l.height=Math.min(Math.max(l.height,l.minHeight),l.maxHeight),l.left=(t.width-l.width)/2,l.top=(t.height-l.height)/2,l.oldLeft=l.left,l.oldTop=l.top,this.initialCanvasData=tr({},l)},limitCanvas:function(t,e){var r=this.options,i=this.containerData,n=this.canvasData,a=this.cropBoxData,o=r.viewMode,s=n.aspectRatio,h=this.cropped&&a;if(t){var l=Number(r.minCanvasWidth)||0,u=Number(r.minCanvasHeight)||0;o>1?(l=Math.max(l,i.width),u=Math.max(u,i.height),3===o&&(u*s>l?l=u*s:u=l/s)):o>0&&(l?l=Math.max(l,h?a.width:0):u?u=Math.max(u,h?a.height:0):h&&(l=a.width,(u=a.height)*s>l?l=u*s:u=l/s));var c=tB({aspectRatio:s,width:l,height:u});l=c.width,u=c.height,n.minWidth=l,n.minHeight=u,n.maxWidth=1/0,n.maxHeight=1/0}if(e){if(o>(h?0:1)){var f=i.width-n.width,d=i.height-n.height;n.minLeft=Math.min(0,f),n.minTop=Math.min(0,d),n.maxLeft=Math.max(0,f),n.maxTop=Math.max(0,d),h&&this.limited&&(n.minLeft=Math.min(a.left,a.left+(a.width-n.width)),n.minTop=Math.min(a.top,a.top+(a.height-n.height)),n.maxLeft=a.left,n.maxTop=a.top,2===o&&(n.width>=i.width&&(n.minLeft=Math.min(0,f),n.maxLeft=Math.max(0,f)),n.height>=i.height&&(n.minTop=Math.min(0,d),n.maxTop=Math.max(0,d))))}else n.minLeft=-n.width,n.minTop=-n.height,n.maxLeft=i.width,n.maxTop=i.height}},renderCanvas:function(t,e){var r=this.canvasData,i=this.imageData;if(e){var n=/**
   * Get the new sizes of a rectangle after rotated.
   * @param {Object} data - The original sizes.
   * @returns {Object} The result sizes.
   */function(t){var e=t.width,r=t.height,i=t.degree;if(90==(i=Math.abs(i)%180))return{width:r,height:e};var n=i%90*Math.PI/180,a=Math.sin(n),o=Math.cos(n),s=e*o+r*a,h=e*a+r*o;return i>90?{width:h,height:s}:{width:s,height:h}}({width:i.naturalWidth*Math.abs(i.scaleX||1),height:i.naturalHeight*Math.abs(i.scaleY||1),degree:i.rotate||0}),a=n.width,o=n.height,s=r.width*(a/r.naturalWidth),h=r.height*(o/r.naturalHeight);r.left-=(s-r.width)/2,r.top-=(h-r.height)/2,r.width=s,r.height=h,r.aspectRatio=a/o,r.naturalWidth=a,r.naturalHeight=o,this.limitCanvas(!0,!1)}(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=r.oldLeft),(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),this.limitCanvas(!1,!0),r.left=Math.min(Math.max(r.left,r.minLeft),r.maxLeft),r.top=Math.min(Math.max(r.top,r.minTop),r.maxTop),r.oldLeft=r.left,r.oldTop=r.top,to(this.canvas,tr({width:r.width,height:r.height},tE({translateX:r.left,translateY:r.top}))),this.renderImage(t),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(t){var e=this.canvasData,r=this.imageData,i=r.naturalWidth*(e.width/e.naturalWidth),n=r.naturalHeight*(e.height/e.naturalHeight);tr(r,{width:i,height:n,left:(e.width-i)/2,top:(e.height-n)/2}),to(this.image,tr({width:r.width,height:r.height},tE(tr({translateX:r.left,translateY:r.top},r)))),t&&this.output()},initCropBox:function(){var t=this.options,e=this.canvasData,r=t.aspectRatio||t.initialAspectRatio,i=Number(t.autoCropArea)||.8,n={width:e.width,height:e.height};r&&(e.height*r>e.width?n.height=n.width/r:n.width=n.height*r),this.cropBoxData=n,this.limitCropBox(!0,!0),// Initialize auto crop area
n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),// The width/height of auto crop area must large than "minWidth/Height"
n.width=Math.max(n.minWidth,n.width*i),n.height=Math.max(n.minHeight,n.height*i),n.left=e.left+(e.width-n.width)/2,n.top=e.top+(e.height-n.height)/2,n.oldLeft=n.left,n.oldTop=n.top,this.initialCropBoxData=tr({},n)},limitCropBox:function(t,e){var r=this.options,i=this.containerData,n=this.canvasData,a=this.cropBoxData,o=this.limited,s=r.aspectRatio;if(t){var h=Number(r.minCropBoxWidth)||0,l=Number(r.minCropBoxHeight)||0,u=o?Math.min(i.width,n.width,n.width+n.left,i.width-n.left):i.width,c=o?Math.min(i.height,n.height,n.height+n.top,i.height-n.top):i.height;// The min/maxCropBoxWidth/Height must be less than container's width/height
h=Math.min(h,i.width),l=Math.min(l,i.height),s&&(h&&l?l*s>h?l=h/s:h=l*s:h?l=h/s:l&&(h=l*s),c*s>u?c=u/s:u=c*s),// The minWidth/Height must be less than maxWidth/Height
a.minWidth=Math.min(h,u),a.minHeight=Math.min(l,c),a.maxWidth=u,a.maxHeight=c}e&&(o?(a.minLeft=Math.max(0,n.left),a.minTop=Math.max(0,n.top),a.maxLeft=Math.min(i.width,n.left+n.width)-a.width,a.maxTop=Math.min(i.height,n.top+n.height)-a.height):(a.minLeft=0,a.minTop=0,a.maxLeft=i.width-a.width,a.maxTop=i.height-a.height))},renderCropBox:function(){var t=this.options,e=this.containerData,r=this.cropBoxData;(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=r.oldLeft),(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),this.limitCropBox(!1,!0),r.left=Math.min(Math.max(r.left,r.minLeft),r.maxLeft),r.top=Math.min(Math.max(r.top,r.minTop),r.maxTop),r.oldLeft=r.left,r.oldTop=r.top,t.movable&&t.cropBoxMovable&&td(this.face,x,r.width>=e.width&&r.height>=e.height?d:"all"),to(this.cropBox,tr({width:r.width,height:r.height},tE({translateX:r.left,translateY:r.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),ty(this.element,A,this.getData())}},{initPreview:function(){var t=this.element,e=this.crossOrigin,r=this.options.preview,i=e?this.crossOriginUrl:this.url,n=t.alt||"The image to preview",a=document.createElement("img");if(e&&(a.crossOrigin=e),a.src=i,a.alt=n,this.viewBox.appendChild(a),this.viewBoxImage=a,r){var o=r;"string"==typeof r?o=t.ownerDocument.querySelectorAll(r):r.querySelector&&(o=[r]),this.previews=o,te(o,function(t){var r=document.createElement("img");// Save the original size for recover
td(t,k,{width:t.offsetWidth,height:t.offsetHeight,html:t.innerHTML}),e&&(r.crossOrigin=e),r.src=i,r.alt=n,/**
         * Override img element styles
         * Add `display:block` to avoid margin top issue
         * Add `height:auto` to override `height` attribute on IE8
         * (Occur only when margin-top <= -height)
         */r.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',t.innerHTML="",t.appendChild(r)})}},resetPreview:function(){te(this.previews,function(t){var e=tf(t,k);to(t,{width:e.width,height:e.height}),t.innerHTML=e.html,/**
   * Remove data from the given element.
   * @param {Element} element - The target element.
   * @param {string} name - The data key to remove.
   */function(t,e){if(K(t[e]))try{delete t[e]}catch(r){t[e]=void 0}else if(t.dataset)try{delete t.dataset[e]}catch(r){t.dataset[e]=void 0}else t.removeAttribute("data-".concat(tc(e)))}(t,k)})},preview:function(){var t=this.imageData,e=this.canvasData,r=this.cropBoxData,i=r.width,n=r.height,a=t.width,o=t.height,s=r.left-e.left-t.left,h=r.top-e.top-t.top;this.cropped&&!this.disabled&&(to(this.viewBoxImage,tr({width:a,height:o},tE(tr({translateX:-s,translateY:-h},t)))),te(this.previews,function(e){var r=tf(e,k),l=r.width,u=r.height,c=l,f=u,d=1;i&&(f=n*(d=l/i)),n&&f>u&&(c=i*(d=u/n),f=u),to(e,{width:c,height:f}),to(e.getElementsByTagName("img")[0],tr({width:a*d,height:o*d},tE(tr({translateX:-s*d,translateY:-h*d},t))))}))}},{bind:function(){var t=this.element,e=this.options,r=this.cropper;J(e.cropstart)&&tv(t,z,e.cropstart),J(e.cropmove)&&tv(t,I,e.cropmove),J(e.cropend)&&tv(t,S,e.cropend),J(e.crop)&&tv(t,A,e.crop),J(e.zoom)&&tv(t,N,e.zoom),tv(r,T,this.onCropStart=this.cropStart.bind(this)),e.zoomable&&e.zoomOnWheel&&tv(r,L,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),e.toggleDragModeOnDblclick&&tv(r,O,this.onDblclick=this.dblclick.bind(this)),tv(t.ownerDocument,R,this.onCropMove=this.cropMove.bind(this)),tv(t.ownerDocument,D,this.onCropEnd=this.cropEnd.bind(this)),e.responsive&&tv(window,U,this.onResize=this.resize.bind(this))},unbind:function(){var t=this.element,e=this.options,r=this.cropper;J(e.cropstart)&&tg(t,z,e.cropstart),J(e.cropmove)&&tg(t,I,e.cropmove),J(e.cropend)&&tg(t,S,e.cropend),J(e.crop)&&tg(t,A,e.crop),J(e.zoom)&&tg(t,N,e.zoom),tg(r,T,this.onCropStart),e.zoomable&&e.zoomOnWheel&&tg(r,L,this.onWheel,{passive:!1,capture:!0}),e.toggleDragModeOnDblclick&&tg(r,O,this.onDblclick),tg(t.ownerDocument,R,this.onCropMove),tg(t.ownerDocument,D,this.onCropEnd),e.responsive&&tg(window,U,this.onResize)}},{resize:function(){if(!this.disabled){var t,e,r=this.options,i=this.container,n=this.containerData,a=i.offsetWidth/n.width,o=i.offsetHeight/n.height,s=Math.abs(a-1)>Math.abs(o-1)?a:o;// Resize when width changed or height changed
1!==s&&(r.restore&&(t=this.getCanvasData(),e=this.getCropBoxData()),this.render(),r.restore&&(this.setCanvasData(te(t,function(e,r){t[r]=e*s})),this.setCropBoxData(te(e,function(t,r){e[r]=t*s}))))}},dblclick:function(){if(!this.disabled&&this.options.dragMode!==B){var t;this.setDragMode(((t=this.dragBox).classList?t.classList.contains(m):t.className.indexOf(m)>-1)?C:E)}},wheel:function(t){var e=this,r=Number(this.options.wheelZoomRatio)||.1,i=1;!this.disabled&&(t.preventDefault(),this.wheeling||(this.wheeling=!0,setTimeout(function(){e.wheeling=!1},50),t.deltaY?i=t.deltaY>0?1:-1:t.wheelDelta?i=-t.wheelDelta/120:t.detail&&(i=t.detail>0?1:-1),this.zoom(-i*r,t)))},cropStart:function(t){var e,r=t.buttons,i=t.button;if(!(this.disabled||("mousedown"===t.type||"pointerdown"===t.type&&"mouse"===t.pointerType)&&// No primary button (Usually the left button)
(X(r)&&1!==r||X(i)&&0!==i||t.ctrlKey))){var n=this.options,a=this.pointers;t.changedTouches?te(t.changedTouches,function(t){a[t.identifier]=tC(t)}):a[t.pointerId||0]=tC(t),e=Object.keys(a).length>1&&n.zoomable&&n.zoomOnTouch?p:tf(t.target,x),F.test(e)&&!1!==ty(this.element,z,{originalEvent:t,action:e})&&(// This line is required for preventing page zooming in iOS browsers
t.preventDefault(),this.action=e,this.cropping=!1,e===f&&(this.cropping=!0,ts(this.dragBox,w)))}},cropMove:function(t){var e=this.action;if(!this.disabled&&e){var r=this.pointers;t.preventDefault(),!1!==ty(this.element,I,{originalEvent:t,action:e})&&(t.changedTouches?te(t.changedTouches,function(t){// The first parameter should not be undefined (#432)
tr(r[t.identifier]||{},tC(t,!0))}):tr(r[t.pointerId||0]||{},tC(t,!0)),this.change(t))}},cropEnd:function(t){if(!this.disabled){var e=this.action,r=this.pointers;t.changedTouches?te(t.changedTouches,function(t){delete r[t.identifier]}):delete r[t.pointerId||0],e&&(t.preventDefault(),Object.keys(r).length||(this.action=""),this.cropping&&(this.cropping=!1,tl(this.dragBox,w,this.cropped&&this.options.modal)),ty(this.element,S,{originalEvent:t,action:e}))}}},{change:function(t){var r,i,n,a=this.options,o=this.canvasData,s=this.containerData,h=this.cropBoxData,l=this.pointers,u=this.action,c=a.aspectRatio,m=h.left,g=h.top,y=h.width,b=h.height,w=m+y,_=g+b,x=0,k=0,E=s.width,C=s.height,B=!0;!c&&t.shiftKey&&(c=y&&b?y/b:1),this.limited&&(x=h.minLeft,k=h.minTop,E=x+Math.min(s.width,o.width,o.left+o.width),C=k+Math.min(s.height,o.height,o.top+o.height));var A=l[Object.keys(l)[0]],S={x:A.endX-A.startX,y:A.endY-A.startY},I=function(t){switch(t){case"e":w+S.x>E&&(S.x=E-w);break;case"w":m+S.x<x&&(S.x=x-m);break;case"n":g+S.y<k&&(S.y=k-g);break;case"s":_+S.y>C&&(S.y=C-_)}};switch(u){// Move crop box
case"all":m+=S.x,g+=S.y;break;// Resize crop box
case"e":if(S.x>=0&&(w>=E||c&&(g<=k||_>=C))){B=!1;break}I("e"),(y+=S.x)<0&&(u="w",m-=y=-y),c&&(b=y/c,g+=(h.height-b)/2);break;case"n":if(S.y<=0&&(g<=k||c&&(m<=x||w>=E))){B=!1;break}I("n"),b-=S.y,g+=S.y,b<0&&(u="s",g-=b=-b),c&&(y=b*c,m+=(h.width-y)/2);break;case"w":if(S.x<=0&&(m<=x||c&&(g<=k||_>=C))){B=!1;break}I("w"),y-=S.x,m+=S.x,y<0&&(u="e",m-=y=-y),c&&(b=y/c,g+=(h.height-b)/2);break;case"s":if(S.y>=0&&(_>=C||c&&(m<=x||w>=E))){B=!1;break}I("s"),(b+=S.y)<0&&(u="n",g-=b=-b),c&&(y=b*c,m+=(h.width-y)/2);break;case"ne":if(c){if(S.y<=0&&(g<=k||w>=E)){B=!1;break}I("n"),b-=S.y,g+=S.y,y=b*c}else I("n"),I("e"),S.x>=0?w<E?y+=S.x:S.y<=0&&g<=k&&(B=!1):y+=S.x,S.y<=0?g>k&&(b-=S.y,g+=S.y):(b-=S.y,g+=S.y);y<0&&b<0?(u="sw",y=-y,g-=b=-b,m-=y):y<0?(u="nw",m-=y=-y):b<0&&(u="se",g-=b=-b);break;case"nw":if(c){if(S.y<=0&&(g<=k||m<=x)){B=!1;break}I("n"),b-=S.y,g+=S.y,y=b*c,m+=h.width-y}else I("n"),I("w"),S.x<=0?m>x?(y-=S.x,m+=S.x):S.y<=0&&g<=k&&(B=!1):(y-=S.x,m+=S.x),S.y<=0?g>k&&(b-=S.y,g+=S.y):(b-=S.y,g+=S.y);y<0&&b<0?(u="se",y=-y,g-=b=-b,m-=y):y<0?(u="ne",m-=y=-y):b<0&&(u="sw",g-=b=-b);break;case"sw":if(c){if(S.x<=0&&(m<=x||_>=C)){B=!1;break}I("w"),y-=S.x,m+=S.x,b=y/c}else I("s"),I("w"),S.x<=0?m>x?(y-=S.x,m+=S.x):S.y>=0&&_>=C&&(B=!1):(y-=S.x,m+=S.x),S.y>=0?_<C&&(b+=S.y):b+=S.y;y<0&&b<0?(u="ne",y=-y,g-=b=-b,m-=y):y<0?(u="se",m-=y=-y):b<0&&(u="nw",g-=b=-b);break;case"se":if(c){if(S.x>=0&&(w>=E||_>=C)){B=!1;break}I("e"),y+=S.x,b=y/c}else I("s"),I("e"),S.x>=0?w<E?y+=S.x:S.y>=0&&_>=C&&(B=!1):y+=S.x,S.y>=0?_<C&&(b+=S.y):b+=S.y;y<0&&b<0?(u="nw",y=-y,g-=b=-b,m-=y):y<0?(u="sw",m-=y=-y):b<0&&(u="ne",g-=b=-b);break;// Move canvas
case d:this.move(S.x,S.y),B=!1;break;// Zoom canvas
case p:this.zoom((r=e({},l),i=0,te(l,function(t,e){delete r[e],te(r,function(e){var r=Math.abs(t.startX-e.startX),n=Math.abs(t.startY-e.startY),a=Math.abs(t.endX-e.endX),o=Math.abs(t.endY-e.endY),s=Math.sqrt(r*r+n*n),h=(Math.sqrt(a*a+o*o)-s)/s;Math.abs(h)>Math.abs(i)&&(i=h)})}),i),t),B=!1;break;// Create crop box
case f:if(!S.x||!S.y){B=!1;break}n=tb(this.cropper),m=A.startX-n.left,g=A.startY-n.top,y=h.minWidth,b=h.minHeight,S.x>0?u=S.y>0?"se":"ne":S.x<0&&(m-=y,u=S.y>0?"sw":"nw"),S.y<0&&(g-=b),!this.cropped&&(th(this.cropBox,v),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}B&&(h.width=y,h.height=b,h.left=m,h.top=g,this.action=u,this.renderCropBox()),// Override
te(l,function(t){t.startX=t.endX,t.startY=t.endY})}},{// Show the crop box manually
crop:function(){return!this.ready||this.cropped||this.disabled||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&ts(this.dragBox,w),th(this.cropBox,v),this.setCropBoxData(this.initialCropBoxData)),this},// Reset the image and crop box to their initial states
reset:function(){return this.ready&&!this.disabled&&(this.imageData=tr({},this.initialImageData),this.canvasData=tr({},this.initialCanvasData),this.cropBoxData=tr({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},// Clear the crop box
clear:function(){return this.cropped&&!this.disabled&&(tr(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),// Render canvas after crop box rendered
this.renderCanvas(),th(this.dragBox,w),ts(this.cropBox,v)),this},/**
     * Replace the image's src and rebuild the cropper
     * @param {string} url - The new URL.
     * @param {boolean} [hasSameSize] - Indicate if the new image has the same size as the old one.
     * @returns {Cropper} this
     */replace:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!this.disabled&&t&&(this.isImg&&(this.element.src=t),e?(this.url=t,this.image.src=t,this.ready&&(this.viewBoxImage.src=t,te(this.previews,function(e){e.getElementsByTagName("img")[0].src=t}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(t))),this},// Enable (unfreeze) the cropper
enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,th(this.cropper,g)),this},// Disable (freeze) the cropper
disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,ts(this.cropper,g)),this},/**
     * Destroy the cropper and remove the instance from the image
     * @returns {Cropper} this
     */destroy:function(){var t=this.element;return t[c]&&(t[c]=void 0,this.isImg&&this.replaced&&(t.src=this.originalUrl),this.uncreate()),this},/**
     * Move the canvas with relative offsets
     * @param {number} offsetX - The relative offset distance on the x-axis.
     * @param {number} [offsetY=offsetX] - The relative offset distance on the y-axis.
     * @returns {Cropper} this
     */move:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,r=this.canvasData,i=r.left,n=r.top;return this.moveTo(G(t)?t:i+Number(t),G(e)?e:n+Number(e))},/**
     * Move the canvas to an absolute point
     * @param {number} x - The x-axis coordinate.
     * @param {number} [y=x] - The y-axis coordinate.
     * @returns {Cropper} this
     */moveTo:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,r=this.canvasData,i=!1;return t=Number(t),e=Number(e),this.ready&&!this.disabled&&this.options.movable&&(X(t)&&(r.left=t,i=!0),X(e)&&(r.top=e,i=!0),i&&this.renderCanvas(!0)),this},/**
     * Zoom the canvas with a relative ratio
     * @param {number} ratio - The target ratio.
     * @param {Event} _originalEvent - The original event if any.
     * @returns {Cropper} this
     */zoom:function(t,e){var r=this.canvasData;return t=(t=Number(t))<0?1/(1-t):1+t,this.zoomTo(r.width*t/r.naturalWidth,null,e)},/**
     * Zoom the canvas to an absolute ratio
     * @param {number} ratio - The target ratio.
     * @param {Object} pivot - The zoom pivot point coordinate.
     * @param {Event} _originalEvent - The original event if any.
     * @returns {Cropper} this
     */zoomTo:function(t,e,r){var i=this.options,n=this.canvasData,a=n.width,o=n.height,s=n.naturalWidth,h=n.naturalHeight;if((t=Number(t))>=0&&this.ready&&!this.disabled&&i.zoomable){var l=s*t,u=h*t;if(!1===ty(this.element,N,{ratio:t,oldRatio:a/s,originalEvent:r}))return this;if(r){var c,f,d,p=this.pointers,m=tb(this.cropper),g=p&&Object.keys(p).length?(c=0,f=0,d=0,te(p,function(t){var e=t.startX,r=t.startY;c+=e,f+=r,d+=1}),c/=d,f/=d,{pageX:c,pageY:f}):{pageX:r.pageX,pageY:r.pageY};// Zoom from the triggering point of the event
n.left-=(l-a)*((g.pageX-m.left-n.left)/a),n.top-=(u-o)*((g.pageY-m.top-n.top)/o)}else V(e)&&X(e.x)&&X(e.y)?(n.left-=(l-a)*((e.x-n.left)/a),n.top-=(u-o)*((e.y-n.top)/o)):(// Zoom from the center of the canvas
n.left-=(l-a)/2,n.top-=(u-o)/2);n.width=l,n.height=u,this.renderCanvas(!0)}return this},/**
     * Rotate the canvas with a relative degree
     * @param {number} degree - The rotate degree.
     * @returns {Cropper} this
     */rotate:function(t){return this.rotateTo((this.imageData.rotate||0)+Number(t))},/**
     * Rotate the canvas to an absolute degree
     * @param {number} degree - The rotate degree.
     * @returns {Cropper} this
     */rotateTo:function(t){return X(t=Number(t))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=t%360,this.renderCanvas(!0,!0)),this},/**
     * Scale the image on the x-axis.
     * @param {number} scaleX - The scale ratio on the x-axis.
     * @returns {Cropper} this
     */scaleX:function(t){var e=this.imageData.scaleY;return this.scale(t,X(e)?e:1)},/**
     * Scale the image on the y-axis.
     * @param {number} scaleY - The scale ratio on the y-axis.
     * @returns {Cropper} this
     */scaleY:function(t){var e=this.imageData.scaleX;return this.scale(X(e)?e:1,t)},/**
     * Scale the image
     * @param {number} scaleX - The scale ratio on the x-axis.
     * @param {number} [scaleY=scaleX] - The scale ratio on the y-axis.
     * @returns {Cropper} this
     */scale:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,r=this.imageData,i=!1;return t=Number(t),e=Number(e),this.ready&&!this.disabled&&this.options.scalable&&(X(t)&&(r.scaleX=t,i=!0),X(e)&&(r.scaleY=e,i=!0),i&&this.renderCanvas(!0,!0)),this},/**
     * Get the cropped area position and size data (base on the original image)
     * @param {boolean} [rounded=false] - Indicate if round the data values or not.
     * @returns {Object} The result cropped data.
     */getData:function(){var t,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=this.options,i=this.imageData,n=this.canvasData,a=this.cropBoxData;if(this.ready&&this.cropped){t={x:a.left-n.left,y:a.top-n.top,width:a.width,height:a.height};var o=i.width/i.naturalWidth;if(te(t,function(e,r){t[r]=e/o}),e){// In case rounding off leads to extra 1px in right or bottom border
// we should round the top-left corner and the dimension (#343).
var s=Math.round(t.y+t.height),h=Math.round(t.x+t.width);t.x=Math.round(t.x),t.y=Math.round(t.y),t.width=h-t.x,t.height=s-t.y}}else t={x:0,y:0,width:0,height:0};return r.rotatable&&(t.rotate=i.rotate||0),r.scalable&&(t.scaleX=i.scaleX||1,t.scaleY=i.scaleY||1),t},/**
     * Set the cropped area position and size with new data
     * @param {Object} data - The new data.
     * @returns {Cropper} this
     */setData:function(t){var e=this.options,r=this.imageData,i=this.canvasData,n={};if(this.ready&&!this.disabled&&V(t)){var a=!1;e.rotatable&&X(t.rotate)&&t.rotate!==r.rotate&&(r.rotate=t.rotate,a=!0),e.scalable&&(X(t.scaleX)&&t.scaleX!==r.scaleX&&(r.scaleX=t.scaleX,a=!0),X(t.scaleY)&&t.scaleY!==r.scaleY&&(r.scaleY=t.scaleY,a=!0)),a&&this.renderCanvas(!0,!0);var o=r.width/r.naturalWidth;X(t.x)&&(n.left=t.x*o+i.left),X(t.y)&&(n.top=t.y*o+i.top),X(t.width)&&(n.width=t.width*o),X(t.height)&&(n.height=t.height*o),this.setCropBoxData(n)}return this},/**
     * Get the container size data.
     * @returns {Object} The result container data.
     */getContainerData:function(){return this.ready?tr({},this.containerData):{}},/**
     * Get the image position and size data.
     * @returns {Object} The result image data.
     */getImageData:function(){return this.sized?tr({},this.imageData):{}},/**
     * Get the canvas position and size data.
     * @returns {Object} The result canvas data.
     */getCanvasData:function(){var t=this.canvasData,e={};return this.ready&&te(["left","top","width","height","naturalWidth","naturalHeight"],function(r){e[r]=t[r]}),e},/**
     * Set the canvas position and size with new data.
     * @param {Object} data - The new canvas data.
     * @returns {Cropper} this
     */setCanvasData:function(t){var e=this.canvasData,r=e.aspectRatio;return this.ready&&!this.disabled&&V(t)&&(X(t.left)&&(e.left=t.left),X(t.top)&&(e.top=t.top),X(t.width)?(e.width=t.width,e.height=t.width/r):X(t.height)&&(e.height=t.height,e.width=t.height*r),this.renderCanvas(!0)),this},/**
     * Get the crop box position and size data.
     * @returns {Object} The result crop box data.
     */getCropBoxData:function(){var t,e=this.cropBoxData;return this.ready&&this.cropped&&(t={left:e.left,top:e.top,width:e.width,height:e.height}),t||{}},/**
     * Set the crop box position and size with new data.
     * @param {Object} data - The new crop box data.
     * @returns {Cropper} this
     */setCropBoxData:function(t){var e,r,i=this.cropBoxData,n=this.options.aspectRatio;return this.ready&&this.cropped&&!this.disabled&&V(t)&&(X(t.left)&&(i.left=t.left),X(t.top)&&(i.top=t.top),X(t.width)&&t.width!==i.width&&(e=!0,i.width=t.width),X(t.height)&&t.height!==i.height&&(r=!0,i.height=t.height),n&&(e?i.height=i.width/n:r&&(i.width=i.height*n)),this.renderCropBox()),this},/**
     * Get a canvas drawn the cropped image.
     * @param {Object} [options={}] - The config options.
     * @returns {HTMLCanvasElement} - The result canvas.
     */getCroppedCanvas:function(){var t,e,r,i,a,o,s,h,l,u,c,f,d,p,m,g,v,y,b,w,_,x,k,E,C,B,A,S,I,z,O,T,R,D,M,U,L,N,P=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var F=this.canvasData,j=(t=this.image,r=(e=this.imageData).aspectRatio,i=e.naturalWidth,a=e.naturalHeight,o=e.rotate,s=e.scaleX,h=e.scaleY,l=F.aspectRatio,u=F.naturalWidth,c=F.naturalHeight,f=P.fillColor,d=P.imageSmoothingEnabled,p=P.imageSmoothingQuality,g=void 0===(m=P.maxWidth)?1/0:m,y=void 0===(v=P.maxHeight)?1/0:v,w=void 0===(b=P.minWidth)?0:b,x=void 0===(_=P.minHeight)?0:_,E=(k=document.createElement("canvas")).getContext("2d"),C=tB({aspectRatio:l,width:g,height:y}),B=tB({aspectRatio:l,width:w,height:x},"cover"),A=Math.min(C.width,Math.max(B.width,u)),S=Math.min(C.height,Math.max(B.height,c)),I=tB({aspectRatio:r,width:g,height:y}),z=tB({aspectRatio:r,width:w,height:x},"cover"),O=Math.min(I.width,Math.max(z.width,i)),T=Math.min(I.height,Math.max(z.height,a)),k.width=tn(A),k.height=tn(S),E.fillStyle=void 0===f?"transparent":f,E.fillRect(0,0,A,S),E.save(),E.translate(A/2,S/2),E.rotate((void 0===o?0:o)*Math.PI/180),E.scale(void 0===s?1:s,void 0===h?1:h),E.imageSmoothingEnabled=void 0===d||d,E.imageSmoothingQuality=void 0===p?"low":p,E.drawImage.apply(E,[t].concat(n([-O/2,-T/2,O,T].map(function(t){return Math.floor(tn(t))})))),E.restore(),k);// Returns the source canvas if it is not cropped.
if(!this.cropped)return j;var W=this.getData(P.rounded),H=W.x,Z=W.y,Y=W.width,X=W.height,$=j.width/Math.floor(F.naturalWidth);1!==$&&(H*=$,Z*=$,Y*=$,X*=$);var G=Y/X,K=tB({aspectRatio:G,width:P.maxWidth||1/0,height:P.maxHeight||1/0}),q=tB({aspectRatio:G,width:P.minWidth||0,height:P.minHeight||0},"cover"),V=tB({aspectRatio:G,width:P.width||(1!==$?j.width:Y),height:P.height||(1!==$?j.height:X)}),J=V.width,Q=V.height;J=Math.min(K.width,Math.max(q.width,J)),Q=Math.min(K.height,Math.max(q.height,Q));var tt=document.createElement("canvas"),te=tt.getContext("2d");tt.width=tn(J),tt.height=tn(Q),te.fillStyle=P.fillColor||"transparent",te.fillRect(0,0,J,Q);var tr=P.imageSmoothingEnabled,ti=P.imageSmoothingQuality;te.imageSmoothingEnabled=void 0===tr||tr,ti&&(te.imageSmoothingQuality=ti);// https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D.drawImage
var ta=j.width,to=j.height,ts=H,th=Z;ts<=-Y||ts>ta?(ts=0,R=0,M=0,L=0):ts<=0?(M=-ts,L=R=Math.min(ta,Y+(ts=0))):ts<=ta&&(M=0,L=R=Math.min(Y,ta-ts)),R<=0||th<=-X||th>to?(th=0,D=0,U=0,N=0):th<=0?(U=-th,N=D=Math.min(to,X+(th=0))):th<=to&&(U=0,N=D=Math.min(X,to-th));var tl=[ts,th,R,D];// Avoid "IndexSizeError"
if(L>0&&N>0){var tu=J/Y;tl.push(M*tu,U*tu,L*tu,N*tu)}return(// All the numerical parameters should be integer for `drawImage`
// https://github.com/fengyuanchen/cropper/issues/476
te.drawImage.apply(te,[j].concat(n(tl.map(function(t){return Math.floor(tn(t))})))),tt)},/**
     * Change the aspect ratio of the crop box.
     * @param {number} aspectRatio - The new aspect ratio.
     * @returns {Cropper} this
     */setAspectRatio:function(t){var e=this.options;return!this.disabled&&!G(t)&&(// 0 -> NaN
e.aspectRatio=Math.max(0,t)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},/**
     * Change the drag mode.
     * @param {string} mode - The new drag mode.
     * @returns {Cropper} this
     */setDragMode:function(t){var e=this.options,r=this.dragBox,i=this.face;if(this.ready&&!this.disabled){var n=t===E,a=e.movable&&t===C;t=n||a?t:B,e.dragMode=t,td(r,x,t),tl(r,m,n),tl(r,_,a),e.cropBoxMovable||(// Sync drag mode to crop box when it is not movable
td(i,x,t),tl(i,m,n),tl(i,_,a))}return this}}),tz}();var u={};e=function(){function t(t,e,r){var i=new XMLHttpRequest;i.open("GET",t),i.responseType="blob",i.onload=function(){a(i.response,e,r)},i.onerror=function(){console.error("could not download file")},i.send()}function e(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function r(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(r){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var i="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof h&&h.global===h?h:void 0,n=i.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),a=i.saveAs||("object"!=typeof window||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!n?function(n,a,o){var s=i.URL||i.webkitURL,h=document.createElement("a");a=a||n.name||"download",h.download=a,h.rel="noopener","string"==typeof n?(h.href=n,h.origin===location.origin?r(h):e(h.href)?t(n,a,o):r(h,h.target="_blank")):(h.href=s.createObjectURL(n),setTimeout(function(){s.revokeObjectURL(h.href)},4e4),setTimeout(function(){r(h)},0))}:"msSaveOrOpenBlob"in navigator?function(i,n,a){if(n=n||i.name||"download","string"!=typeof i){var o;navigator.msSaveOrOpenBlob((void 0===(o=a)?o={autoBom:!1}:"object"!=typeof o&&(console.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i),n)}else if(e(i))t(i,n,a);else{var s=document.createElement("a");s.href=i,s.target="_blank",setTimeout(function(){r(s)})}}:function(e,r,a,o){if((o=o||open("","_blank"))&&(o.document.title=o.document.body.innerText="downloading..."),"string"==typeof e)return t(e,r,a);var s="application/octet-stream"===e.type,h=/constructor/i.test(i.HTMLElement)||i.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||s&&h||n)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var t=u.result;t=l?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=t:location=t,o=null},u.readAsDataURL(e)}else{var c=i.URL||i.webkitURL,f=c.createObjectURL(e);o?o.location=f:location.href=f,o=null,setTimeout(function(){c.revokeObjectURL(f)},4e4)}});i.saveAs=a.saveAs=a,u=a},"function"==typeof define&&define.amd?define([],e):e();var c={};r=function(t){// go through the array every three bytes, we'll deal with trailing stuff later
for(var e,r=t.length,i=r%3// if we have 1 byte left, pad 2 bytes
,n=[],a=0,o=r-i;a<o;a+=16383// must be multiple of 3
)n.push(function(t,e,r){for(var i,n=[],a=e;a<r;a+=3)n.push(f[(i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]))>>18&63]+f[i>>12&63]+f[i>>6&63]+f[63&i]);return n.join("")}(t,a,a+16383>o?o:a+16383));return 1===i?n.push(f[(e=t[r-1])>>2]+f[e<<4&63]+"=="):2===i&&n.push(f[(e=(t[r-2]<<8)+t[r-1])>>10]+f[e>>4&63]+f[e<<2&63]+"="),n.join("")};for(var f=[],d=[],p="undefined"!=typeof Uint8Array?Uint8Array:Array,m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",g=0,v=m.length;g<v;++g)f[g]=m[g],d[m.charCodeAt(g)]=g;// Support decoding URL-safe base64 strings, as Node.js does.
// See: https://en.wikipedia.org/wiki/Base64#URL_applications
d["-".charCodeAt(0)]=62,d["_".charCodeAt(0)]=63,i=function(t,e,r,i,n){var a,o,s=8*n-i-1,h=(1<<s)-1,l=h>>1,u=-7,c=r?n-1:0,f=r?-1:1,d=t[e+c];for(c+=f,a=d&(1<<-u)-1,d>>=-u,u+=s;u>0;a=256*a+t[e+c],c+=f,u-=8);for(o=a&(1<<-u)-1,a>>=-u,u+=i;u>0;o=256*o+t[e+c],c+=f,u-=8);if(0===a)a=1-l;else{if(a===h)return o?NaN:(d?-1:1)*(1/0);o+=Math.pow(2,i),a-=l}return(d?-1:1)*o*Math.pow(2,a-i)},n=function(t,e,r,i,n,a){var o,s,h,l=8*a-n-1,u=(1<<l)-1,c=u>>1,f=23===n?5960464477539062e-23:0,d=i?0:a-1,p=i?1:-1,m=e<0||0===e&&1/e<0?1:0;for(isNaN(e=Math.abs(e))||e===1/0?(s=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),e*(h=Math.pow(2,-o))<1&&(o--,h*=2),o+c>=1?e+=f/h:e+=f*Math.pow(2,1-c),e*h>=2&&(o++,h/=2),o+c>=u?(s=0,o=u):o+c>=1?(s=(e*h-1)*Math.pow(2,n),o+=c):(s=e*Math.pow(2,c-1)*Math.pow(2,n),o=0));n>=8;t[r+d]=255&s,d+=p,s/=256,n-=8);for(o=o<<n|s,l+=n;l>0;t[r+d]=255&o,d+=p,o/=256,l-=8);t[r+d-p]|=128*m};const y="function"==typeof Symbol&&"function"// eslint-disable-line dot-notation
==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom")// eslint-disable-line dot-notation
:null;function b(t){if(t>2147483647)throw RangeError('The value "'+t+'" is invalid for option "size"');// Return an augmented `Uint8Array` instance
let e=new Uint8Array(t);return Object.setPrototypeOf(e,w.prototype),e}/**
 * The Buffer constructor returns instances of `Uint8Array` that have their
 * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of
 * `Uint8Array`, so the returned instances will have all the node `Buffer` methods
 * and the `Uint8Array` methods. Square bracket notation works as expected -- it
 * returns a single octet.
 *
 * The `Uint8Array` prototype remains unmodified.
 */function w(t,e,r){// Common case.
if("number"==typeof t){if("string"==typeof e)throw TypeError('The "string" argument must be of type string. Received type number');return k(t)}return _(t,e,r)}function _(t,e,r){if("string"==typeof t)return function(t,e){if(("string"!=typeof e||""===e)&&(e="utf8"),!w.isEncoding(e))throw TypeError("Unknown encoding: "+e);let r=0|A(t,e),i=b(r),n=i.write(t,e);return n!==r&&// cause everything after the first invalid character to be ignored. (e.g.
// 'abxxcd' will be treated as 'ab')
(i=i.slice(0,n)),i}(t,e);if(ArrayBuffer.isView(t))return function(t){if(q(t,Uint8Array)){let e=new Uint8Array(t);return C(e.buffer,e.byteOffset,e.byteLength)}return E(t)}(t);if(null==t)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(q(t,ArrayBuffer)||t&&q(t.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(q(t,SharedArrayBuffer)||t&&q(t.buffer,SharedArrayBuffer)))return C(t,e,r);if("number"==typeof t)throw TypeError('The "value" argument must not be of type number. Received type number');let i=t.valueOf&&t.valueOf();if(null!=i&&i!==t)return w.from(i,e,r);let n=function(t){var e;if(w.isBuffer(t)){let e=0|B(t.length),r=b(e);return 0===r.length||t.copy(r,0,0,e),r}return void 0!==t.length?"number"!=typeof t.length||(e=t.length)!=e// eslint-disable-line no-self-compare
?b(0):E(t):"Buffer"===t.type&&Array.isArray(t.data)?E(t.data):void 0}(t);if(n)return n;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return w.from(t[Symbol.toPrimitive]("string"),e,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function x(t){if("number"!=typeof t)throw TypeError('"size" argument must be of type number');if(t<0)throw RangeError('The value "'+t+'" is invalid for option "size"')}function k(t){return x(t),b(t<0?0:0|B(t))}function E(t){let e=t.length<0?0:0|B(t.length),r=b(e);for(let i=0;i<e;i+=1)r[i]=255&t[i];return r}function C(t,e,r){let i;if(e<0||t.byteLength<e)throw RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw RangeError('"length" is outside of buffer bounds');return(// Return an augmented `Uint8Array` instance
Object.setPrototypeOf(i=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),w.prototype),i)}function B(t){// Note: cannot use `length < K_MAX_LENGTH` here because that fails when
// length is NaN (which is otherwise coerced to zero.)
if(t>=2147483647)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|t}function A(t,e){if(w.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||q(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);let r=t.length,i=arguments.length>2&&!0===arguments[2];if(!i&&0===r)return 0;// Use a for loop to avoid recursion
let n=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return $(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return G(t).length;default:if(n)return i?-1:$(t).length// assume utf8
;e=(""+e).toLowerCase(),n=!0}}function S(t,e,i){let n=!1;// Return early if start > this.length. Done here to prevent potential uint32
// coercion fail below.
if((void 0===e||e<0)&&(e=0),e>this.length||((void 0===i||i>this.length)&&(i=this.length),i<=0||// Force coercion to uint32. This will also coerce falsey/NaN values to 0.
(i>>>=0)<=(e>>>=0)))return"";for(t||(t="utf8");;)switch(t){case"hex":return function(t,e,r){let i=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>i)&&(r=i);let n="";for(let i=e;i<r;++i)n+=V[t[i]];return n}(this,e,i);case"utf8":case"utf-8":return T(this,e,i);case"ascii":return function(t,e,r){let i="";r=Math.min(t.length,r);for(let n=e;n<r;++n)i+=String.fromCharCode(127&t[n]);return i}(this,e,i);case"latin1":case"binary":return function(t,e,r){let i="";r=Math.min(t.length,r);for(let n=e;n<r;++n)i+=String.fromCharCode(t[n]);return i}(this,e,i);case"base64":var a,o;return a=e,o=i,0===a&&o===this.length?r(this):r(this.slice(a,o));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(t,e,r){let i=t.slice(e,r),n="";// If bytes.length is odd, the last 8 bits must be ignored (same as node.js)
for(let t=0;t<i.length-1;t+=2)n+=String.fromCharCode(i[t]+256*i[t+1]);return n}(this,e,i);default:if(n)throw TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function I(t,e,r){let i=t[e];t[e]=t[r],t[r]=i}// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,
// OR the last index of `val` in `buffer` at offset <= `byteOffset`.
//
// Arguments:
// - buffer - a Buffer to search
// - val - a string, Buffer, or number
// - byteOffset - an index into `buffer`; will be clamped to an int32
// - encoding - an optional encoding, relevant is val is a string
// - dir - true for indexOf, false for lastIndexOf
function z(t,e,r,i,n){var a;// Empty buffer means no match
if(0===t.length)return -1;if("string"==typeof r?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),(a=r=+r// Coerce to Number.
)!=a&&(r=n?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(n)return -1;r=t.length-1}else if(r<0){if(!n)return -1;r=0}// Finally, search either indexOf (if dir is true) or lastIndexOf
if("string"==typeof e&&(e=w.from(e,i)),w.isBuffer(e))return(// Special case: looking for empty string/buffer always fails
0===e.length?-1:O(t,e,r,i,n));if("number"==typeof e)return(e&=255// Search for a byte value [0-255]
,"function"==typeof Uint8Array.prototype.indexOf)?n?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):O(t,[e],r,i,n);throw TypeError("val must be string, number or Buffer")}function O(t,e,r,i,n){let a,o=1,s=t.length,h=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return -1;o=2,s/=2,h/=2,r/=2}function l(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(n){let i=-1;for(a=r;a<s;a++)if(l(t,a)===l(e,-1===i?0:a-i)){if(-1===i&&(i=a),a-i+1===h)return i*o}else -1!==i&&(a-=a-i),i=-1}else for(r+h>s&&(r=s-h),a=r;a>=0;a--){let r=!0;for(let i=0;i<h;i++)if(l(t,a+i)!==l(e,i)){r=!1;break}if(r)return a}return -1}function T(t,e,r){r=Math.min(t.length,r);let i=[],n=e;for(;n<r;){let e=t[n],a=null,o=e>239?4:e>223?3:e>191?2:1;if(n+o<=r){let r,i,s,h;switch(o){case 1:e<128&&(a=e);break;case 2:(192&(r=t[n+1]))==128&&(h=(31&e)<<6|63&r)>127&&(a=h);break;case 3:r=t[n+1],i=t[n+2],(192&r)==128&&(192&i)==128&&(h=(15&e)<<12|(63&r)<<6|63&i)>2047&&(h<55296||h>57343)&&(a=h);break;case 4:r=t[n+1],i=t[n+2],s=t[n+3],(192&r)==128&&(192&i)==128&&(192&s)==128&&(h=(15&e)<<18|(63&r)<<12|(63&i)<<6|63&s)>65535&&h<1114112&&(a=h)}}null===a?(// we did not generate a valid codePoint so insert a
// replacement char (U+FFFD) and advance only 1 byte
a=65533,o=1):a>65535&&(// encode to utf16 (surrogate pair dance)
a-=65536,i.push(a>>>10&1023|55296),a=56320|1023&a),i.push(a),n+=o}return function(t){let e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t)// avoid extra slice()
;// Decode in chunks to avoid "call stack size exceeded".
let r="",i=0;for(;i<e;)r+=String.fromCharCode.apply(String,t.slice(i,i+=4096));return r}(i)}/*
 * Need to make sure that buffer isn't trying to write out of bounds.
 */function R(t,e,r){if(t%1!=0||t<0)throw RangeError("offset is not uint");if(t+e>r)throw RangeError("Trying to access beyond buffer length")}function D(t,e,r,i,n,a){if(!w.isBuffer(t))throw TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<a)throw RangeError('"value" argument is out of bounds');if(r+i>t.length)throw RangeError("Index out of range")}function M(t,e,r,i,n){H(e,i,n,t,r,7);let a=Number(e&BigInt(4294967295));t[r++]=a,a>>=8,t[r++]=a,a>>=8,t[r++]=a,a>>=8,t[r++]=a;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o,r}function U(t,e,r,i,n){H(e,i,n,t,r,7);let a=Number(e&BigInt(4294967295));t[r+7]=a,a>>=8,t[r+6]=a,a>>=8,t[r+5]=a,a>>=8,t[r+4]=a;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=o,o>>=8,t[r+2]=o,o>>=8,t[r+1]=o,o>>=8,t[r]=o,r+8}function L(t,e,r,i,n,a){if(r+i>t.length||r<0)throw RangeError("Index out of range")}function N(t,e,r,i,a){return e=+e,r>>>=0,a||L(t,e,r,4,34028234663852886e22,-34028234663852886e22),n(t,e,r,i,23,4),r+4}function P(t,e,r,i,a){return e=+e,r>>>=0,a||L(t,e,r,8,17976931348623157e292,-17976931348623157e292),n(t,e,r,i,52,8),r+8}/**
 * If `Buffer.TYPED_ARRAY_SUPPORT`:
 *   === true    Use Uint8Array implementation (fastest)
 *   === false   Print warning and recommend using `buffer` v4.x which has an Object
 *               implementation (most compatible, even IE6)
 *
 * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,
 * Opera 11.6+, iOS 4.2+.
 *
 * We report that the browser does not support typed arrays if the are not subclassable
 * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`
 * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support
 * for __proto__ and has a buggy typed array implementation.
 */w.TYPED_ARRAY_SUPPORT=function(){// Can typed array instances can be augmented?
try{let t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),w.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(w.prototype,"parent",{enumerable:!0,get:function(){if(w.isBuffer(this))return this.buffer}}),Object.defineProperty(w.prototype,"offset",{enumerable:!0,get:function(){if(w.isBuffer(this))return this.byteOffset}}),w.poolSize=8192// not used by this implementation
,/**
 * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError
 * if value is a number.
 * Buffer.from(str[, encoding])
 * Buffer.from(array)
 * Buffer.from(buffer)
 * Buffer.from(arrayBuffer[, byteOffset[, length]])
 **/w.from=function(t,e,r){return _(t,e,r)},// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:
// https://github.com/feross/buffer/pull/148
Object.setPrototypeOf(w.prototype,Uint8Array.prototype),Object.setPrototypeOf(w,Uint8Array),/**
 * Creates a new filled Buffer instance.
 * alloc(size[, fill[, encoding]])
 **/w.alloc=function(t,e,r){return(x(t),t<=0)?b(t):void 0!==e?"string"==typeof r?b(t).fill(e,r):b(t).fill(e):b(t)},/**
 * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.
 * */w.allocUnsafe=function(t){return k(t)},/**
 * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.
 */w.allocUnsafeSlow=function(t){return k(t)},w.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==w.prototype// so Buffer.isBuffer(Buffer.prototype) will be false
},w.compare=function(t,e){if(q(t,Uint8Array)&&(t=w.from(t,t.offset,t.byteLength)),q(e,Uint8Array)&&(e=w.from(e,e.offset,e.byteLength)),!w.isBuffer(t)||!w.isBuffer(e))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let r=t.length,i=e.length;for(let n=0,a=Math.min(r,i);n<a;++n)if(t[n]!==e[n]){r=t[n],i=e[n];break}return r<i?-1:i<r?1:0},w.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},w.concat=function(t,e){let r;if(!Array.isArray(t))throw TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return w.alloc(0);if(void 0===e)for(r=0,e=0;r<t.length;++r)e+=t[r].length;let i=w.allocUnsafe(e),n=0;for(r=0;r<t.length;++r){let e=t[r];if(q(e,Uint8Array))n+e.length>i.length?(w.isBuffer(e)||(e=w.from(e)),e.copy(i,n)):Uint8Array.prototype.set.call(i,e,n);else if(w.isBuffer(e))e.copy(i,n);else throw TypeError('"list" argument must be an Array of Buffers');n+=e.length}return i},w.byteLength=A,// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)
// to detect a Buffer instance. It's not possible to use `instanceof Buffer`
// reliably in a browserify context because there could be multiple different
// copies of the 'buffer' package in use. This method works even for Buffer
// instances that were created from another copy of the `buffer` package.
// See: https://github.com/feross/buffer/issues/154
w.prototype._isBuffer=!0,w.prototype.swap16=function(){let t=this.length;if(t%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)I(this,e,e+1);return this},w.prototype.swap32=function(){let t=this.length;if(t%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)I(this,e,e+3),I(this,e+1,e+2);return this},w.prototype.swap64=function(){let t=this.length;if(t%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)I(this,e,e+7),I(this,e+1,e+6),I(this,e+2,e+5),I(this,e+3,e+4);return this},w.prototype.toString=function(){let t=this.length;return 0===t?"":0==arguments.length?T(this,0,t):S.apply(this,arguments)},w.prototype.toLocaleString=w.prototype.toString,w.prototype.equals=function(t){if(!w.isBuffer(t))throw TypeError("Argument must be a Buffer");return this===t||0===w.compare(this,t)},w.prototype.inspect=function(){let t="";return t=this.toString("hex",0,50).replace(/(.{2})/g,"$1 ").trim(),this.length>50&&(t+=" ... "),"<Buffer "+t+">"},y&&(w.prototype[y]=w.prototype.inspect),w.prototype.compare=function(t,e,r,i,n){if(q(t,Uint8Array)&&(t=w.from(t,t.offset,t.byteLength)),!w.isBuffer(t))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===i&&(i=0),void 0===n&&(n=this.length),e<0||r>t.length||i<0||n>this.length)throw RangeError("out of range index");if(i>=n&&e>=r)return 0;if(i>=n)return -1;if(e>=r)return 1;if(e>>>=0,r>>>=0,i>>>=0,n>>>=0,this===t)return 0;let a=n-i,o=r-e,s=Math.min(a,o),h=this.slice(i,n),l=t.slice(e,r);for(let t=0;t<s;++t)if(h[t]!==l[t]){a=h[t],o=l[t];break}return a<o?-1:o<a?1:0},w.prototype.includes=function(t,e,r){return -1!==this.indexOf(t,e,r)},w.prototype.indexOf=function(t,e,r){return z(this,t,e,r,!0)},w.prototype.lastIndexOf=function(t,e,r){return z(this,t,e,r,!1)},w.prototype.write=function(t,e,r,i){var n,a,o,s,h,l,u,c;// Buffer#write(string)
if(void 0===e)i="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)i=e,r=this.length,e=0;else if(isFinite(e))e>>>=0,isFinite(r)?(r>>>=0,void 0===i&&(i="utf8")):(i=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let f=this.length-e;if((void 0===r||r>f)&&(r=f),t.length>0&&(r<0||e<0)||e>this.length)throw RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let d=!1;for(;;)switch(i){case"hex":return function(t,e,r,i){let n;r=Number(r)||0;let a=t.length-r;i?(i=Number(i))>a&&(i=a):i=a;let o=e.length;for(i>o/2&&(i=o/2),n=0;n<i;++n){let i=parseInt(e.substr(2*n,2),16);if(i!=i)break;t[r+n]=i}return n}(this,t,e,r);case"utf8":case"utf-8":return n=e,a=r,K($(t,this.length-n),this,n,a);case"ascii":case"latin1":case"binary":return o=e,s=r,K(function(t){let e=[];for(let r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(t),this,o,s);case"base64":// Warning: maxLength not taken into account in base64Write
return h=e,l=r,K(G(t),this,h,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return u=e,c=r,K(function(t,e){let r,i;let n=[];for(let a=0;a<t.length&&!((e-=2)<0);++a)i=(r=t.charCodeAt(a))>>8,n.push(r%256),n.push(i);return n}(t,this.length-u),this,u,c);default:if(d)throw TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),d=!0}},w.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},w.prototype.slice=function(t,e){let r=this.length;t=~~t,e=void 0===e?r:~~e,t<0?(t+=r)<0&&(t=0):t>r&&(t=r),e<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);let i=this.subarray(t,e);return(// Return an augmented `Uint8Array` instance
Object.setPrototypeOf(i,w.prototype),i)},w.prototype.readUintLE=w.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||R(t,e,this.length);let i=this[t],n=1,a=0;for(;++a<e&&(n*=256);)i+=this[t+a]*n;return i},w.prototype.readUintBE=w.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||R(t,e,this.length);let i=this[t+--e],n=1;for(;e>0&&(n*=256);)i+=this[t+--e]*n;return i},w.prototype.readUint8=w.prototype.readUInt8=function(t,e){return t>>>=0,e||R(t,1,this.length),this[t]},w.prototype.readUint16LE=w.prototype.readUInt16LE=function(t,e){return t>>>=0,e||R(t,2,this.length),this[t]|this[t+1]<<8},w.prototype.readUint16BE=w.prototype.readUInt16BE=function(t,e){return t>>>=0,e||R(t,2,this.length),this[t]<<8|this[t+1]},w.prototype.readUint32LE=w.prototype.readUInt32LE=function(t,e){return t>>>=0,e||R(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},w.prototype.readUint32BE=w.prototype.readUInt32BE=function(t,e){return t>>>=0,e||R(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},w.prototype.readBigUInt64LE=J(function(t){Z(t>>>=0,"offset");let e=this[t],r=this[t+7];(void 0===e||void 0===r)&&Y(t,this.length-8);let i=e+256*this[++t]+65536*this[++t]+16777216*this[++t],n=this[++t]+256*this[++t]+65536*this[++t]+16777216*r;return BigInt(i)+(BigInt(n)<<BigInt(32))}),w.prototype.readBigUInt64BE=J(function(t){Z(t>>>=0,"offset");let e=this[t],r=this[t+7];(void 0===e||void 0===r)&&Y(t,this.length-8);let i=16777216*e+65536*this[++t]+256*this[++t]+this[++t],n=16777216*this[++t]+65536*this[++t]+256*this[++t]+r;return(BigInt(i)<<BigInt(32))+BigInt(n)}),w.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||R(t,e,this.length);let i=this[t],n=1,a=0;for(;++a<e&&(n*=256);)i+=this[t+a]*n;return i>=(n*=128)&&(i-=Math.pow(2,8*e)),i},w.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||R(t,e,this.length);let i=e,n=1,a=this[t+--i];for(;i>0&&(n*=256);)a+=this[t+--i]*n;return a>=(n*=128)&&(a-=Math.pow(2,8*e)),a},w.prototype.readInt8=function(t,e){return(t>>>=0,e||R(t,1,this.length),128&this[t])?-((255-this[t]+1)*1):this[t]},w.prototype.readInt16LE=function(t,e){t>>>=0,e||R(t,2,this.length);let r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},w.prototype.readInt16BE=function(t,e){t>>>=0,e||R(t,2,this.length);let r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},w.prototype.readInt32LE=function(t,e){return t>>>=0,e||R(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},w.prototype.readInt32BE=function(t,e){return t>>>=0,e||R(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},w.prototype.readBigInt64LE=J(function(t){Z(t>>>=0,"offset");let e=this[t],r=this[t+7];(void 0===e||void 0===r)&&Y(t,this.length-8);let i=this[t+4]+256*this[t+5]+65536*this[t+6]+(r<<24// Overflow
);return(BigInt(i)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+16777216*this[++t])}),w.prototype.readBigInt64BE=J(function(t){Z(t>>>=0,"offset");let e=this[t],r=this[t+7];(void 0===e||void 0===r)&&Y(t,this.length-8);let i=(e<<24)+// Overflow
65536*this[++t]+256*this[++t]+this[++t];return(BigInt(i)<<BigInt(32))+BigInt(16777216*this[++t]+65536*this[++t]+256*this[++t]+r)}),w.prototype.readFloatLE=function(t,e){return t>>>=0,e||R(t,4,this.length),i(this,t,!0,23,4)},w.prototype.readFloatBE=function(t,e){return t>>>=0,e||R(t,4,this.length),i(this,t,!1,23,4)},w.prototype.readDoubleLE=function(t,e){return t>>>=0,e||R(t,8,this.length),i(this,t,!0,52,8)},w.prototype.readDoubleBE=function(t,e){return t>>>=0,e||R(t,8,this.length),i(this,t,!1,52,8)},w.prototype.writeUintLE=w.prototype.writeUIntLE=function(t,e,r,i){if(t=+t,e>>>=0,r>>>=0,!i){let i=Math.pow(2,8*r)-1;D(this,t,e,r,i,0)}let n=1,a=0;for(this[e]=255&t;++a<r&&(n*=256);)this[e+a]=t/n&255;return e+r},w.prototype.writeUintBE=w.prototype.writeUIntBE=function(t,e,r,i){if(t=+t,e>>>=0,r>>>=0,!i){let i=Math.pow(2,8*r)-1;D(this,t,e,r,i,0)}let n=r-1,a=1;for(this[e+n]=255&t;--n>=0&&(a*=256);)this[e+n]=t/a&255;return e+r},w.prototype.writeUint8=w.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||D(this,t,e,1,255,0),this[e]=255&t,e+1},w.prototype.writeUint16LE=w.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||D(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},w.prototype.writeUint16BE=w.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||D(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},w.prototype.writeUint32LE=w.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||D(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},w.prototype.writeUint32BE=w.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||D(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},w.prototype.writeBigUInt64LE=J(function(t,e=0){return M(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))}),w.prototype.writeBigUInt64BE=J(function(t,e=0){return U(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))}),w.prototype.writeIntLE=function(t,e,r,i){if(t=+t,e>>>=0,!i){let i=Math.pow(2,8*r-1);D(this,t,e,r,i-1,-i)}let n=0,a=1,o=0;for(this[e]=255&t;++n<r&&(a*=256);)t<0&&0===o&&0!==this[e+n-1]&&(o=1),this[e+n]=(t/a>>0)-o&255;return e+r},w.prototype.writeIntBE=function(t,e,r,i){if(t=+t,e>>>=0,!i){let i=Math.pow(2,8*r-1);D(this,t,e,r,i-1,-i)}let n=r-1,a=1,o=0;for(this[e+n]=255&t;--n>=0&&(a*=256);)t<0&&0===o&&0!==this[e+n+1]&&(o=1),this[e+n]=(t/a>>0)-o&255;return e+r},w.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||D(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},w.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||D(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},w.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||D(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},w.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||D(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},w.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||D(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},w.prototype.writeBigInt64LE=J(function(t,e=0){return M(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),w.prototype.writeBigInt64BE=J(function(t,e=0){return U(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),w.prototype.writeFloatLE=function(t,e,r){return N(this,t,e,!0,r)},w.prototype.writeFloatBE=function(t,e,r){return N(this,t,e,!1,r)},w.prototype.writeDoubleLE=function(t,e,r){return P(this,t,e,!0,r)},w.prototype.writeDoubleBE=function(t,e,r){return P(this,t,e,!1,r)},// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)
w.prototype.copy=function(t,e,r,i){if(!w.isBuffer(t))throw TypeError("argument should be a Buffer");// Copy 0 bytes; we're done
if(r||(r=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<r&&(i=r),i===r||0===t.length||0===this.length)return 0;// Fatal error conditions
if(e<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(i<0)throw RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-r&&(i=t.length-e+r);let n=i-r;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,r,i):Uint8Array.prototype.set.call(t,this.subarray(r,i),e),n},// Usage:
//    buffer.fill(number[, offset[, end]])
//    buffer.fill(buffer[, offset[, end]])
//    buffer.fill(string[, offset[, end]][, encoding])
w.prototype.fill=function(t,e,r,i){let n;// Handle string cases:
if("string"==typeof t){if("string"==typeof e?(i=e,e=0,r=this.length):"string"==typeof r&&(i=r,r=this.length),void 0!==i&&"string"!=typeof i)throw TypeError("encoding must be a string");if("string"==typeof i&&!w.isEncoding(i))throw TypeError("Unknown encoding: "+i);if(1===t.length){let e=t.charCodeAt(0);("utf8"===i&&e<128||"latin1"===i)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));// Invalid ranges are not set to a default, so can range check early.
if(e<0||this.length<e||this.length<r)throw RangeError("Out of range index");if(r<=e)return this;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(n=e;n<r;++n)this[n]=t;else{let a=w.isBuffer(t)?t:w.from(t,i),o=a.length;if(0===o)throw TypeError('The value "'+t+'" is invalid for argument "value"');for(n=0;n<r-e;++n)this[n+e]=a[n%o]}return this};// CUSTOM ERRORS
// =============
// Simplified versions from Node, changed for Buffer-only usage
const F={};function j(t,e,r){F[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),// Add the error code to the name to include it in the stack trace.
this.name=`${this.name} [${t}]`,// Access the stack to generate the error message including the error code
// from the name.
this.stack// eslint-disable-line no-unused-expressions
,// Reset the name to the actual name.
delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function W(t){let e="",r=t.length,i="-"===t[0]?1:0;for(;r>=i+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function H(t,e,r,i,n,a){if(t>r||t<e){let i;let n="bigint"==typeof e?"n":"";throw i=a>3?0===e||e===BigInt(0)?`>= 0${n} and < 2${n} ** ${(a+1)*8}${n}`:`>= -(2${n} ** ${(a+1)*8-1}${n}) and < 2 ** ${(a+1)*8-1}${n}`:`>= ${e}${n} and <= ${r}${n}`,new F.ERR_OUT_OF_RANGE("value",i,t)}Z(n,"offset"),(void 0===i[n]||void 0===i[n+a])&&Y(n,i.length-(a+1))}function Z(t,e){if("number"!=typeof t)throw new F.ERR_INVALID_ARG_TYPE(e,"number",t)}function Y(t,e,r){if(Math.floor(t)!==t)throw Z(t,r),new F.ERR_OUT_OF_RANGE(r||"offset","an integer",t);if(e<0)throw new F.ERR_BUFFER_OUT_OF_BOUNDS;throw new F.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}j("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),j("ERR_INVALID_ARG_TYPE",function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError),j("ERR_OUT_OF_RANGE",function(t,e,r){let i=`The value of "${t}" is out of range.`,n=r;return Number.isInteger(r)&&Math.abs(r)>4294967296?n=W(String(r)):"bigint"==typeof r&&(n=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(n=W(n)),n+="n"),i+=` It must be ${e}. Received ${n}`},RangeError);// HELPER FUNCTIONS
// ================
const X=/[^+/0-9A-Za-z-_]/g;function $(t,e){let r;e=e||1/0;let i=t.length,n=null,a=[];for(let o=0;o<i;++o){// is surrogate component
if((r=t.charCodeAt(o))>55295&&r<57344){// last char was a lead
if(!n){// no lead yet
if(r>56319||o+1===i){// unexpected trail
(e-=3)>-1&&a.push(239,191,189);continue}// valid lead
n=r;continue}// 2 leads in a row
if(r<56320){(e-=3)>-1&&a.push(239,191,189),n=r;continue}// valid surrogate pair
r=(n-55296<<10|r-56320)+65536}else n&&(e-=3)>-1&&a.push(239,191,189);// encode utf8
if(n=null,r<128){if((e-=1)<0)break;a.push(r)}else if(r<2048){if((e-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((e-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return a}function G(t){return function(t){var e,r,i=function(t){var e=t.length;if(e%4>0)throw Error("Invalid string. Length must be a multiple of 4");// Trim off extra bytes after placeholder bytes are found
// See: https://github.com/beatgammit/base64-js/issues/42
var r=t.indexOf("=");-1===r&&(r=e);var i=r===e?0:4-r%4;return[r,i]}(t),n=i[0],a=i[1],o=new p((n+a)*3/4-a),s=0,h=a>0?n-4:n;for(r=0;r<h;r+=4)e=d[t.charCodeAt(r)]<<18|d[t.charCodeAt(r+1)]<<12|d[t.charCodeAt(r+2)]<<6|d[t.charCodeAt(r+3)],o[s++]=e>>16&255,o[s++]=e>>8&255,o[s++]=255&e;return 2===a&&(e=d[t.charCodeAt(r)]<<2|d[t.charCodeAt(r+1)]>>4,o[s++]=255&e),1===a&&(e=d[t.charCodeAt(r)]<<10|d[t.charCodeAt(r+1)]<<4|d[t.charCodeAt(r+2)]>>2,o[s++]=e>>8&255,o[s++]=255&e),o}(function(t){// Node converts strings with length < 2 to ''
if(// Node strips out invalid characters like \n and \t from the string, base64-js does not
(t=// Node takes equal signs as end of the Base64 encoding
(t=t.split("=")[0]).trim().replace(X,"")).length<2)return"";// Node allows for non-padded base64 strings (missing trailing ===), base64-js does not
for(;t.length%4!=0;)t+="=";return t}(t))}function K(t,e,r,i){let n;for(n=0;n<i&&!(n+r>=e.length)&&!(n>=t.length);++n)e[n+r]=t[n];return n}// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass
// the `instanceof` check but they should be treated as of that type.
// See: https://github.com/feross/buffer/issues/166
function q(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}// Create lookup table for `toString('hex')`
// See: https://github.com/feross/buffer/issues/219
const V=function(){let t="0123456789abcdef",e=Array(256);for(let r=0;r<16;++r){let i=16*r;for(let n=0;n<16;++n)e[i+n]=t[r]+t[n]}return e}();// Return not function with Error if BigInt not supported
function J(t){return"undefined"==typeof BigInt?Q:t}function Q(){throw Error("BigInt not supported")}var tt={},te=tt={};function tr(){throw Error("setTimeout has not been defined")}function ti(){throw Error("clearTimeout has not been defined")}function tn(t){if(a===setTimeout)return setTimeout(t,0);// if setTimeout wasn't available but was latter defined
if((a===tr||!a)&&setTimeout)return a=setTimeout,setTimeout(t,0);try{// when when somebody has screwed with setTimeout but no I.E. maddness
return a(t,0)}catch(e){try{// When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally
return a.call(null,t,0)}catch(e){// same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error
return a.call(this,t,0)}}}!function(){try{a="function"==typeof setTimeout?setTimeout:tr}catch(t){a=tr}try{o="function"==typeof clearTimeout?clearTimeout:ti}catch(t){o=ti}}();var ta=[],to=!1,ts=-1;function th(){to&&s&&(to=!1,s.length?ta=s.concat(ta):ts=-1,ta.length&&tl())}function tl(){if(!to){var t=tn(th);to=!0;for(var e=ta.length;e;){for(s=ta,ta=[];++ts<e;)s&&s[ts].run();ts=-1,e=ta.length}s=null,to=!1,function(t){if(o===clearTimeout)return clearTimeout(t);// if clearTimeout wasn't available but was latter defined
if((o===ti||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{// when when somebody has screwed with setTimeout but no I.E. maddness
o(t)}catch(e){try{// When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally
return o.call(null,t)}catch(e){// same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.
// Some versions of I.E. have different rules for clearTimeout vs setTimeout
return o.call(this,t)}}}(t)}}// v8 likes predictible objects
function tu(t,e){this.fun=t,this.array=e}function tc(){}te.nextTick=function(t){var e=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];ta.push(new tu(t,e)),1!==ta.length||to||tn(tl)},tu.prototype.run=function(){this.fun.apply(null,this.array)},te.title="browser",te.browser=!0,te.env={},te.argv=[],te.version="",te.versions={},te.on=tc,te.addListener=tc,te.once=tc,te.off=tc,te.removeListener=tc,te.removeAllListeners=tc,te.emit=tc,te.prependListener=tc,te.prependOnceListener=tc,te.listeners=function(t){return[]},te.binding=function(t){throw Error("process.binding is not supported")},te.cwd=function(){return"/"},te.chdir=function(t){throw Error("process.chdir is not supported")},te.umask=function(){return 0},c=(function t(e,r,i){function n(o,s){if(!r[o]){if(!e[o]){var h=void 0;if(!s&&h)return h(o,!0);if(a)return a(o,!0);var l=Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var u=r[o]={exports:{}};e[o][0].call(u.exports,function(t){return n(e[o][1][t]||t)},u,u.exports,t,e,r,i)}return r[o].exports}for(var a=void 0,o=0;o<i.length;o++)n(i[o]);return n})({1:[function(t,e,r){var i=t("./utils"),n=t("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.encode=function(t){for(var e,r,n,o,s,h,l,u=[],c=0,f=t.length,d=f,p="string"!==i.getTypeOf(t);c<t.length;)d=f-c,n=p?(e=t[c++],r=c<f?t[c++]:0,c<f?t[c++]:0):(e=t.charCodeAt(c++),r=c<f?t.charCodeAt(c++):0,c<f?t.charCodeAt(c++):0),o=e>>2,s=(3&e)<<4|r>>4,h=1<d?(15&r)<<2|n>>6:64,l=2<d?63&n:64,u.push(a.charAt(o)+a.charAt(s)+a.charAt(h)+a.charAt(l));return u.join("")},r.decode=function(t){var e,r,i,o,s,h,l=0,u=0,c="data:";if(t.substr(0,c.length)===c)throw Error("Invalid base64 input, it looks like a data url.");var f,d=3*(t=t.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(t.charAt(t.length-1)===a.charAt(64)&&d--,t.charAt(t.length-2)===a.charAt(64)&&d--,d%1!=0)throw Error("Invalid base64 input, bad content length.");for(f=n.uint8array?new Uint8Array(0|d):Array(0|d);l<t.length;)e=a.indexOf(t.charAt(l++))<<2|(o=a.indexOf(t.charAt(l++)))>>4,r=(15&o)<<4|(s=a.indexOf(t.charAt(l++)))>>2,i=(3&s)<<6|(h=a.indexOf(t.charAt(l++))),f[u++]=e,64!==s&&(f[u++]=r),64!==h&&(f[u++]=i);return f}},{"./support":30,"./utils":32}],2:[function(t,e,r){var i=t("./external"),n=t("./stream/DataWorker"),a=t("./stream/Crc32Probe"),o=t("./stream/DataLengthProbe");function s(t,e,r,i,n){this.compressedSize=t,this.uncompressedSize=e,this.crc32=r,this.compression=i,this.compressedContent=n}s.prototype={getContentWorker:function(){var t=new n(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new o("data_length")),e=this;return t.on("end",function(){if(this.streamInfo.data_length!==e.uncompressedSize)throw Error("Bug : uncompressed data size mismatch")}),t},getCompressedWorker:function(){return new n(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},s.createWorkerFrom=function(t,e,r){return t.pipe(new a).pipe(new o("uncompressedSize")).pipe(e.compressWorker(r)).pipe(new o("compressedSize")).withStreamInfo("compression",e)},e.exports=s},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,e,r){var i=t("./stream/GenericWorker");r.STORE={magic:"\x00\x00",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},r.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,e,r){var i=t("./utils"),n=function(){for(var t,e=[],r=0;r<256;r++){t=r;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e}();e.exports=function(t,e){return void 0!==t&&t.length?"string"!==i.getTypeOf(t)?function(t,e,r,i){var a=i+r;t^=-1;for(var o=i;o<a;o++)t=t>>>8^n[255&(t^e[o])];return -1^t}(0|e,t,t.length,0):function(t,e,r,i){var a=i+r;t^=-1;for(var o=i;o<a;o++)t=t>>>8^n[255&(t^e.charCodeAt(o))];return -1^t}(0|e,t,t.length,0):0}},{"./utils":32}],5:[function(t,e,r){r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(t,e,r){var i=null;i="undefined"!=typeof Promise?Promise:t("lie"),e.exports={Promise:i}},{lie:37}],7:[function(t,e,r){var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,n=t("pako"),a=t("./utils"),o=t("./stream/GenericWorker"),s=i?"uint8array":"array";function h(t,e){o.call(this,"FlateWorker/"+t),this._pako=null,this._pakoAction=t,this._pakoOptions=e,this.meta={}}r.magic="\b\x00",a.inherits(h,o),h.prototype.processChunk=function(t){this.meta=t.meta,null===this._pako&&this._createPako(),this._pako.push(a.transformTo(s,t.data),!1)},h.prototype.flush=function(){o.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},h.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this._pako=null},h.prototype._createPako=function(){this._pako=new n[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var t=this;this._pako.onData=function(e){t.push({data:e,meta:t.meta})}},r.compressWorker=function(t){return new h("Deflate",t)},r.uncompressWorker=function(){return new h("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,e,r){function i(t,e){var r,i="";for(r=0;r<e;r++)i+=String.fromCharCode(255&t),t>>>=8;return i}function n(t,e,r,n,o,u){var c,f,d,p,m=t.file,g=t.compression,v=u!==s.utf8encode,y=a.transformTo("string",u(m.name)),b=a.transformTo("string",s.utf8encode(m.name)),w=m.comment,_=a.transformTo("string",u(w)),x=a.transformTo("string",s.utf8encode(w)),k=b.length!==m.name.length,E=x.length!==w.length,C="",B="",A="",S=m.dir,I=m.date,z={crc32:0,compressedSize:0,uncompressedSize:0};e&&!r||(z.crc32=t.crc32,z.compressedSize=t.compressedSize,z.uncompressedSize=t.uncompressedSize);var O=0;e&&(O|=8),!v&&(k||E)&&(O|=2048);var T=0,R=0;S&&(T|=16),"UNIX"===o?(R=798,T|=(f=c=m.unixPermissions,c||(f=S?16893:33204),(65535&f)<<16)):(R=20,T|=63&(m.dosPermissions||0)),d=(I.getUTCHours()<<6|I.getUTCMinutes())<<5|I.getUTCSeconds()/2,p=(I.getUTCFullYear()-1980<<4|I.getUTCMonth()+1)<<5|I.getUTCDate(),k&&(B=i(1,1)+i(h(y),4)+b,C+="up"+i(B.length,2)+B),E&&(A=i(1,1)+i(h(_),4)+x,C+="uc"+i(A.length,2)+A);var D="";return D+="\n\x00"+i(O,2)+g.magic+i(d,2)+i(p,2)+i(z.crc32,4)+i(z.compressedSize,4)+i(z.uncompressedSize,4)+i(y.length,2)+i(C.length,2),{fileRecord:l.LOCAL_FILE_HEADER+D+y+C,dirRecord:l.CENTRAL_FILE_HEADER+i(R,2)+D+i(_.length,2)+"\x00\x00\x00\x00"+i(T,4)+i(n,4)+y+C+_}}var a=t("../utils"),o=t("../stream/GenericWorker"),s=t("../utf8"),h=t("../crc32"),l=t("../signature");function u(t,e,r,i){o.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=e,this.zipPlatform=r,this.encodeFileName=i,this.streamFiles=t,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(u,o),u.prototype.push=function(t){var e=t.meta.percent||0,r=this.entriesCount,i=this._sources.length;this.accumulate?this.contentBuffer.push(t):(this.bytesWritten+=t.data.length,o.prototype.push.call(this,{data:t.data,meta:{currentFile:this.currentFile,percent:r?(e+100*(r-i-1))/r:100}}))},u.prototype.openedSource=function(t){this.currentSourceOffset=this.bytesWritten,this.currentFile=t.file.name;var e=this.streamFiles&&!t.file.dir;if(e){var r=n(t,e,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:r.fileRecord,meta:{percent:0}})}else this.accumulate=!0},u.prototype.closedSource=function(t){this.accumulate=!1;var e=this.streamFiles&&!t.file.dir,r=n(t,e,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(r.dirRecord),e)this.push({data:l.DATA_DESCRIPTOR+i(t.crc32,4)+i(t.compressedSize,4)+i(t.uncompressedSize,4),meta:{percent:100}});else for(this.push({data:r.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},u.prototype.flush=function(){for(var t,e,r,n,o=this.bytesWritten,s=0;s<this.dirRecords.length;s++)this.push({data:this.dirRecords[s],meta:{percent:100}});var h=this.bytesWritten-o,u=(t=this.dirRecords.length,e=this.zipComment,r=this.encodeFileName,n=a.transformTo("string",r(e)),l.CENTRAL_DIRECTORY_END+"\x00\x00\x00\x00"+i(t,2)+i(t,2)+i(h,4)+i(o,4)+i(n.length,2)+n);this.push({data:u,meta:{percent:100}})},u.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},u.prototype.registerPrevious=function(t){this._sources.push(t);var e=this;return t.on("data",function(t){e.processChunk(t)}),t.on("end",function(){e.closedSource(e.previous.streamInfo),e._sources.length?e.prepareNextSource():e.end()}),t.on("error",function(t){e.error(t)}),this},u.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},u.prototype.error=function(t){var e=this._sources;if(!o.prototype.error.call(this,t))return!1;for(var r=0;r<e.length;r++)try{e[r].error(t)}catch(t){}return!0},u.prototype.lock=function(){o.prototype.lock.call(this);for(var t=this._sources,e=0;e<t.length;e++)t[e].lock()},e.exports=u},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,e,r){var i=t("../compressions"),n=t("./ZipFileWorker");r.generateWorker=function(t,e,r){var a=new n(e.streamFiles,r,e.platform,e.encodeFileName),o=0;try{t.forEach(function(t,r){o++;var n=function(t,e){var r=t||e,n=i[r];if(!n)throw Error(r+" is not a valid compression method !");return n}(r.options.compression,e.compression),s=r.options.compressionOptions||e.compressionOptions||{},h=r.dir,l=r.date;r._compressWorker(n,s).withStreamInfo("file",{name:t,dir:h,date:l,comment:r.comment||"",unixPermissions:r.unixPermissions,dosPermissions:r.dosPermissions}).pipe(a)}),a.entriesCount=o}catch(t){a.error(t)}return a}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,e,r){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var t=new i;for(var e in this)"function"!=typeof this[e]&&(t[e]=this[e]);return t}}(i.prototype=t("./object")).loadAsync=t("./load"),i.support=t("./support"),i.defaults=t("./defaults"),i.version="3.10.1",i.loadAsync=function(t,e){return(new i).loadAsync(t,e)},i.external=t("./external"),e.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,e,r){var i=t("./utils"),n=t("./external"),a=t("./utf8"),o=t("./zipEntries"),s=t("./stream/Crc32Probe"),h=t("./nodejsUtils");e.exports=function(t,e){var r=this;return e=i.extend(e||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),h.isNode&&h.isStream(t)?n.Promise.reject(Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",t,!0,e.optimizedBinaryString,e.base64).then(function(t){var r=new o(e);return r.load(t),r}).then(function(t){var r=[n.Promise.resolve(t)],i=t.files;if(e.checkCRC32)for(var a=0;a<i.length;a++)r.push(function(t){return new n.Promise(function(e,r){var i=t.decompressed.getContentWorker().pipe(new s);i.on("error",function(t){r(t)}).on("end",function(){i.streamInfo.crc32!==t.decompressed.crc32?r(Error("Corrupted zip : CRC32 mismatch")):e()}).resume()})}(i[a]));return n.Promise.all(r)}).then(function(t){for(var n=t.shift(),a=n.files,o=0;o<a.length;o++){var s=a[o],h=s.fileNameStr,l=i.resolve(s.fileNameStr);r.file(l,s.decompressed,{binary:!0,optimizedBinaryString:!0,date:s.date,dir:s.dir,comment:s.fileCommentStr.length?s.fileCommentStr:null,unixPermissions:s.unixPermissions,dosPermissions:s.dosPermissions,createFolders:e.createFolders}),s.dir||(r.file(l).unsafeOriginalName=h)}return n.zipComment.length&&(r.comment=n.zipComment),r})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,e,r){var i=t("../utils"),n=t("../stream/GenericWorker");function a(t,e){n.call(this,"Nodejs stream input adapter for "+t),this._upstreamEnded=!1,this._bindStream(e)}i.inherits(a,n),a.prototype._bindStream=function(t){var e=this;(this._stream=t).pause(),t.on("data",function(t){e.push({data:t,meta:{percent:0}})}).on("error",function(t){e.isPaused?this.generatedError=t:e.error(t)}).on("end",function(){e.isPaused?e._upstreamEnded=!0:e.end()})},a.prototype.pause=function(){return!!n.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},e.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,e,r){var i=t("readable-stream").Readable;function n(t,e,r){i.call(this,e),this._helper=t;var n=this;t.on("data",function(t,e){n.push(t)||n._helper.pause(),r&&r(e)}).on("error",function(t){n.emit("error",t)}).on("end",function(){n.push(null)})}t("../utils").inherits(n,i),n.prototype._read=function(){this._helper.resume()},e.exports=n},{"../utils":32,"readable-stream":16}],14:[function(t,e,r){e.exports={isNode:!0,newBufferFrom:function(t,e){if(w.from&&w.from!==Uint8Array.from)return w.from(t,e);if("number"==typeof t)throw Error('The "data" argument must not be a number');return new w(t,e)},allocBuffer:function(t){if(w.alloc)return w.alloc(t);var e=new w(t);return e.fill(0),e},isBuffer:function(t){return w.isBuffer(t)},isStream:function(t){return t&&"function"==typeof t.on&&"function"==typeof t.pause&&"function"==typeof t.resume}}},{}],15:[function(t,e,r){function i(t,e,r){var i,n=a.getTypeOf(e),s=a.extend(r||{},h);s.date=s.date||new Date,null!==s.compression&&(s.compression=s.compression.toUpperCase()),"string"==typeof s.unixPermissions&&(s.unixPermissions=parseInt(s.unixPermissions,8)),s.unixPermissions&&16384&s.unixPermissions&&(s.dir=!0),s.dosPermissions&&16&s.dosPermissions&&(s.dir=!0),s.dir&&(t=m(t)),s.createFolders&&(i=p(t))&&g.call(this,i,!0);var c="string"===n&&!1===s.binary&&!1===s.base64;r&&void 0!==r.binary||(s.binary=!c),(e instanceof l&&0===e.uncompressedSize||s.dir||!e||0===e.length)&&(s.base64=!1,s.binary=!0,e="",s.compression="STORE",n="string");var v=null;v=e instanceof l||e instanceof o?e:f.isNode&&f.isStream(e)?new d(t,e):a.prepareContent(t,e,s.binary,s.optimizedBinaryString,s.base64);var y=new u(t,v,s);this.files[t]=y}var n=t("./utf8"),a=t("./utils"),o=t("./stream/GenericWorker"),s=t("./stream/StreamHelper"),h=t("./defaults"),l=t("./compressedObject"),u=t("./zipObject"),c=t("./generate"),f=t("./nodejsUtils"),d=t("./nodejs/NodejsStreamInputAdapter"),p=function(t){"/"===t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return 0<e?t.substring(0,e):""},m=function(t){return"/"!==t.slice(-1)&&(t+="/"),t},g=function(t,e){return e=void 0!==e?e:h.createFolders,t=m(t),this.files[t]||i.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]};function v(t){return"[object RegExp]"===Object.prototype.toString.call(t)}e.exports={load:function(){throw Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(t){var e,r,i;for(e in this.files)i=this.files[e],(r=e.slice(this.root.length,e.length))&&e.slice(0,this.root.length)===this.root&&t(r,i)},filter:function(t){var e=[];return this.forEach(function(r,i){t(r,i)&&e.push(i)}),e},file:function(t,e,r){if(1!=arguments.length)return t=this.root+t,i.call(this,t,e,r),this;if(v(t)){var n=t;return this.filter(function(t,e){return!e.dir&&n.test(t)})}var a=this.files[this.root+t];return a&&!a.dir?a:null},folder:function(t){if(!t)return this;if(v(t))return this.filter(function(e,r){return r.dir&&t.test(e)});var e=this.root+t,r=g.call(this,e),i=this.clone();return i.root=r.name,i},remove:function(t){t=this.root+t;var e=this.files[t];if(e||("/"!==t.slice(-1)&&(t+="/"),e=this.files[t]),e&&!e.dir)delete this.files[t];else for(var r=this.filter(function(e,r){return r.name.slice(0,t.length)===t}),i=0;i<r.length;i++)delete this.files[r[i].name];return this},generate:function(){throw Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(t){var e,r={};try{if((r=a.extend(t||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:n.utf8encode})).type=r.type.toLowerCase(),r.compression=r.compression.toUpperCase(),"binarystring"===r.type&&(r.type="string"),!r.type)throw Error("No output type specified.");a.checkSupport(r.type),"darwin"!==r.platform&&"freebsd"!==r.platform&&"linux"!==r.platform&&"sunos"!==r.platform||(r.platform="UNIX"),"win32"===r.platform&&(r.platform="DOS");var i=r.comment||this.comment||"";e=c.generateWorker(this,r,i)}catch(t){(e=new o("error")).error(t)}return new s(e,r.type||"string",r.mimeType)},generateAsync:function(t,e){return this.generateInternalStream(t).accumulate(e)},generateNodeStream:function(t,e){return(t=t||{}).type||(t.type="nodebuffer"),this.generateInternalStream(t).toNodejsStream(e)}}},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,e,r){e.exports=t("stream")},{stream:void 0}],17:[function(t,e,r){var i=t("./DataReader");function n(t){i.call(this,t);for(var e=0;e<this.data.length;e++)t[e]=255&t[e]}t("../utils").inherits(n,i),n.prototype.byteAt=function(t){return this.data[this.zero+t]},n.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),r=t.charCodeAt(1),i=t.charCodeAt(2),n=t.charCodeAt(3),a=this.length-4;0<=a;--a)if(this.data[a]===e&&this.data[a+1]===r&&this.data[a+2]===i&&this.data[a+3]===n)return a-this.zero;return -1},n.prototype.readAndCheckSignature=function(t){var e=t.charCodeAt(0),r=t.charCodeAt(1),i=t.charCodeAt(2),n=t.charCodeAt(3),a=this.readData(4);return e===a[0]&&r===a[1]&&i===a[2]&&n===a[3]},n.prototype.readData=function(t){if(this.checkOffset(t),0===t)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=n},{"../utils":32,"./DataReader":18}],18:[function(t,e,r){var i=t("../utils");function n(t){this.data=t,this.length=t.length,this.index=0,this.zero=0}n.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<this.zero+t||t<0)throw Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(){},readInt:function(t){var e,r=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)r=(r<<8)+this.byteAt(e);return this.index+=t,r},readString:function(t){return i.transformTo("string",this.readData(t))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var t=this.readInt(4);return new Date(Date.UTC(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1))}},e.exports=n},{"../utils":32}],19:[function(t,e,r){var i=t("./Uint8ArrayReader");function n(t){i.call(this,t)}t("../utils").inherits(n,i),n.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=n},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,e,r){var i=t("./DataReader");function n(t){i.call(this,t)}t("../utils").inherits(n,i),n.prototype.byteAt=function(t){return this.data.charCodeAt(this.zero+t)},n.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero},n.prototype.readAndCheckSignature=function(t){return t===this.readData(4)},n.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=n},{"../utils":32,"./DataReader":18}],21:[function(t,e,r){var i=t("./ArrayReader");function n(t){i.call(this,t)}t("../utils").inherits(n,i),n.prototype.readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=n},{"../utils":32,"./ArrayReader":17}],22:[function(t,e,r){var i=t("../utils"),n=t("../support"),a=t("./ArrayReader"),o=t("./StringReader"),s=t("./NodeBufferReader"),h=t("./Uint8ArrayReader");e.exports=function(t){var e=i.getTypeOf(t);return i.checkSupport(e),"string"!==e||n.uint8array?"nodebuffer"===e?new s(t):n.uint8array?new h(i.transformTo("uint8array",t)):new a(i.transformTo("array",t)):new o(t)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,e,r){r.LOCAL_FILE_HEADER="PK\x03\x04",r.CENTRAL_FILE_HEADER="PK\x01\x02",r.CENTRAL_DIRECTORY_END="PK\x05\x06",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",r.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",r.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,e,r){var i=t("./GenericWorker"),n=t("../utils");function a(t){i.call(this,"ConvertWorker to "+t),this.destType=t}n.inherits(a,i),a.prototype.processChunk=function(t){this.push({data:n.transformTo(this.destType,t.data),meta:t.meta})},e.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(t,e,r){var i=t("./GenericWorker"),n=t("../crc32");function a(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(a,i),a.prototype.processChunk=function(t){this.streamInfo.crc32=n(t.data,this.streamInfo.crc32||0),this.push(t)},e.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,e,r){var i=t("../utils"),n=t("./GenericWorker");function a(t){n.call(this,"DataLengthProbe for "+t),this.propName=t,this.withStreamInfo(t,0)}i.inherits(a,n),a.prototype.processChunk=function(t){if(t){var e=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=e+t.data.length}n.prototype.processChunk.call(this,t)},e.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(t,e,r){var i=t("../utils"),n=t("./GenericWorker");function a(t){n.call(this,"DataWorker");var e=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,t.then(function(t){e.dataIsReady=!0,e.data=t,e.max=t&&t.length||0,e.type=i.getTypeOf(t),e.isPaused||e._tickAndRepeat()},function(t){e.error(t)})}i.inherits(a,n),a.prototype.cleanUp=function(){n.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var t=null,e=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":t=this.data.substring(this.index,e);break;case"uint8array":t=this.data.subarray(this.index,e);break;case"array":case"nodebuffer":t=this.data.slice(this.index,e)}return this.index=e,this.push({data:t,meta:{percent:this.max?this.index/this.max*100:0}})},e.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(t,e,r){function i(t){this.name=t||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(t){this.emit("data",t)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(t){this.emit("error",t)}return!0},error:function(t){return!this.isFinished&&(this.isPaused?this.generatedError=t:(this.isFinished=!0,this.emit("error",t),this.previous&&this.previous.error(t),this.cleanUp()),!0)},on:function(t,e){return this._listeners[t].push(e),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(t,e){if(this._listeners[t])for(var r=0;r<this._listeners[t].length;r++)this._listeners[t][r].call(this,e)},pipe:function(t){return t.registerPrevious(this)},registerPrevious:function(t){if(this.isLocked)throw Error("The stream '"+this+"' has already been used.");this.streamInfo=t.streamInfo,this.mergeStreamInfo(),this.previous=t;var e=this;return t.on("data",function(t){e.processChunk(t)}),t.on("end",function(){e.end()}),t.on("error",function(t){e.error(t)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var t=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),t=!0),this.previous&&this.previous.resume(),!t},flush:function(){},processChunk:function(t){this.push(t)},withStreamInfo:function(t,e){return this.extraStreamInfo[t]=e,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var t in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,t)&&(this.streamInfo[t]=this.extraStreamInfo[t])},lock:function(){if(this.isLocked)throw Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var t="Worker "+this.name;return this.previous?this.previous+" -> "+t:t}},e.exports=i},{}],29:[function(t,e,r){var i=t("../utils"),n=t("./ConvertWorker"),a=t("./GenericWorker"),o=t("../base64"),s=t("../support"),h=t("../external"),l=null;if(s.nodestream)try{l=t("../nodejs/NodejsStreamOutputAdapter")}catch(t){}function u(t,e,r){var o=e;switch(e){case"blob":case"arraybuffer":o="uint8array";break;case"base64":o="string"}try{this._internalType=o,this._outputType=e,this._mimeType=r,i.checkSupport(o),this._worker=t.pipe(new n(o)),t.lock()}catch(t){this._worker=new a("error"),this._worker.error(t)}}u.prototype={accumulate:function(t){var e;return e=this,new h.Promise(function(r,n){var a=[],s=e._internalType,h=e._outputType,l=e._mimeType;e.on("data",function(e,r){a.push(e),t&&t(r)}).on("error",function(t){a=[],n(t)}).on("end",function(){try{var t=function(t,e,r){switch(t){case"blob":return i.newBlob(i.transformTo("arraybuffer",e),r);case"base64":return o.encode(e);default:return i.transformTo(t,e)}}(h,function(t,e){var r,i=0,n=null,a=0;for(r=0;r<e.length;r++)a+=e[r].length;switch(t){case"string":return e.join("");case"array":return Array.prototype.concat.apply([],e);case"uint8array":for(n=new Uint8Array(a),r=0;r<e.length;r++)n.set(e[r],i),i+=e[r].length;return n;case"nodebuffer":return w.concat(e);default:throw Error("concat : unsupported type '"+t+"'")}}(s,a),l);r(t)}catch(t){n(t)}a=[]}).resume()})},on:function(t,e){var r=this;return"data"===t?this._worker.on(t,function(t){e.call(r,t.data,t.meta)}):this._worker.on(t,function(){i.delay(e,arguments,r)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(t){if(i.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw Error(this._outputType+" is not supported by this method");return new l(this,{objectMode:"nodebuffer"!==this._outputType},t)}},e.exports=u},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,e,r){if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,r.nodebuffer=!0,r.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)r.blob=!1;else{var i=new ArrayBuffer(0);try{r.blob=0===new Blob([i],{type:"application/zip"}).size}catch(t){try{var n=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);n.append(i),r.blob=0===n.getBlob("application/zip").size}catch(t){r.blob=!1}}}try{r.nodestream=!!t("readable-stream").Readable}catch(t){r.nodestream=!1}},{"readable-stream":16}],31:[function(t,e,r){for(var i=t("./utils"),n=t("./support"),a=t("./nodejsUtils"),o=t("./stream/GenericWorker"),s=Array(256),h=0;h<256;h++)s[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;function l(){o.call(this,"utf-8 decode"),this.leftOver=null}function u(){o.call(this,"utf-8 encode")}s[254]=s[254]=1,r.utf8encode=function(t){return n.nodebuffer?a.newBufferFrom(t,"utf-8"):function(t){var e,r,i,a,o,s=t.length,h=0;for(a=0;a<s;a++)55296==(64512&(r=t.charCodeAt(a)))&&a+1<s&&56320==(64512&(i=t.charCodeAt(a+1)))&&(r=65536+(r-55296<<10)+(i-56320),a++),h+=r<128?1:r<2048?2:r<65536?3:4;for(e=n.uint8array?new Uint8Array(h):Array(h),a=o=0;o<h;a++)55296==(64512&(r=t.charCodeAt(a)))&&a+1<s&&56320==(64512&(i=t.charCodeAt(a+1)))&&(r=65536+(r-55296<<10)+(i-56320),a++),r<128?e[o++]=r:(r<2048?e[o++]=192|r>>>6:(r<65536?e[o++]=224|r>>>12:(e[o++]=240|r>>>18,e[o++]=128|r>>>12&63),e[o++]=128|r>>>6&63),e[o++]=128|63&r);return e}(t)},r.utf8decode=function(t){return n.nodebuffer?i.transformTo("nodebuffer",t).toString("utf-8"):function(t){var e,r,n,a,o=t.length,h=Array(2*o);for(e=r=0;e<o;)if((n=t[e++])<128)h[r++]=n;else if(4<(a=s[n]))h[r++]=65533,e+=a-1;else{for(n&=2===a?31:3===a?15:7;1<a&&e<o;)n=n<<6|63&t[e++],a--;1<a?h[r++]=65533:n<65536?h[r++]=n:(n-=65536,h[r++]=55296|n>>10&1023,h[r++]=56320|1023&n)}return h.length!==r&&(h.subarray?h=h.subarray(0,r):h.length=r),i.applyFromCharCode(h)}(t=i.transformTo(n.uint8array?"uint8array":"array",t))},i.inherits(l,o),l.prototype.processChunk=function(t){var e=i.transformTo(n.uint8array?"uint8array":"array",t.data);if(this.leftOver&&this.leftOver.length){if(n.uint8array){var a=e;(e=new Uint8Array(a.length+this.leftOver.length)).set(this.leftOver,0),e.set(a,this.leftOver.length)}else e=this.leftOver.concat(e);this.leftOver=null}var o=function(t,e){var r;for((e=e||t.length)>t.length&&(e=t.length),r=e-1;0<=r&&128==(192&t[r]);)r--;return r<0?e:0===r?e:r+s[t[r]]>e?r:e}(e),h=e;o!==e.length&&(n.uint8array?(h=e.subarray(0,o),this.leftOver=e.subarray(o,e.length)):(h=e.slice(0,o),this.leftOver=e.slice(o,e.length))),this.push({data:r.utf8decode(h),meta:t.meta})},l.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:r.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},r.Utf8DecodeWorker=l,i.inherits(u,o),u.prototype.processChunk=function(t){this.push({data:r.utf8encode(t.data),meta:t.meta})},r.Utf8EncodeWorker=u},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,e,r){var i=t("./support"),n=t("./base64"),a=t("./nodejsUtils"),o=t("./external");function s(t){return t}function h(t,e){for(var r=0;r<t.length;++r)e[r]=255&t.charCodeAt(r);return e}t("setimmediate"),r.newBlob=function(t,e){r.checkSupport("blob");try{return new Blob([t],{type:e})}catch(r){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return i.append(t),i.getBlob(e)}catch(t){throw Error("Bug : can't construct the Blob.")}}};var l={stringifyByChunk:function(t,e,r){var i=[],n=0,a=t.length;if(a<=r)return String.fromCharCode.apply(null,t);for(;n<a;)"array"===e||"nodebuffer"===e?i.push(String.fromCharCode.apply(null,t.slice(n,Math.min(n+r,a)))):i.push(String.fromCharCode.apply(null,t.subarray(n,Math.min(n+r,a)))),n+=r;return i.join("")},stringifyByChar:function(t){for(var e="",r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(t){return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&1===String.fromCharCode.apply(null,a.allocBuffer(1)).length}catch(t){return!1}}()}};function u(t){var e=65536,i=r.getTypeOf(t),n=!0;if("uint8array"===i?n=l.applyCanBeUsed.uint8array:"nodebuffer"===i&&(n=l.applyCanBeUsed.nodebuffer),n)for(;1<e;)try{return l.stringifyByChunk(t,i,e)}catch(t){e=Math.floor(e/2)}return l.stringifyByChar(t)}function c(t,e){for(var r=0;r<t.length;r++)e[r]=t[r];return e}r.applyFromCharCode=u;var f={};f.string={string:s,array:function(t){return h(t,Array(t.length))},arraybuffer:function(t){return f.string.uint8array(t).buffer},uint8array:function(t){return h(t,new Uint8Array(t.length))},nodebuffer:function(t){return h(t,a.allocBuffer(t.length))}},f.array={string:u,array:s,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return a.newBufferFrom(t)}},f.arraybuffer={string:function(t){return u(new Uint8Array(t))},array:function(t){return c(new Uint8Array(t),Array(t.byteLength))},arraybuffer:s,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return a.newBufferFrom(new Uint8Array(t))}},f.uint8array={string:u,array:function(t){return c(t,Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:s,nodebuffer:function(t){return a.newBufferFrom(t)}},f.nodebuffer={string:u,array:function(t){return c(t,Array(t.length))},arraybuffer:function(t){return f.nodebuffer.uint8array(t).buffer},uint8array:function(t){return c(t,new Uint8Array(t.length))},nodebuffer:s},r.transformTo=function(t,e){return(e=e||"",t)?(r.checkSupport(t),f[r.getTypeOf(e)][t](e)):e},r.resolve=function(t){for(var e=t.split("/"),r=[],i=0;i<e.length;i++){var n=e[i];"."===n||""===n&&0!==i&&i!==e.length-1||(".."===n?r.pop():r.push(n))}return r.join("/")},r.getTypeOf=function(t){return"string"==typeof t?"string":"[object Array]"===Object.prototype.toString.call(t)?"array":i.nodebuffer&&a.isBuffer(t)?"nodebuffer":i.uint8array&&t instanceof Uint8Array?"uint8array":i.arraybuffer&&t instanceof ArrayBuffer?"arraybuffer":void 0},r.checkSupport=function(t){if(!i[t.toLowerCase()])throw Error(t+" is not supported by this platform")},r.MAX_VALUE_16BITS=65535,r.MAX_VALUE_32BITS=-1,r.pretty=function(t){var e,r,i="";for(r=0;r<(t||"").length;r++)i+="\\x"+((e=t.charCodeAt(r))<16?"0":"")+e.toString(16).toUpperCase();return i},r.delay=function(t,e,r){setImmediate(function(){t.apply(r||null,e||[])})},r.inherits=function(t,e){function r(){}r.prototype=e.prototype,t.prototype=new r},r.extend=function(){var t,e,r={};for(t=0;t<arguments.length;t++)for(e in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],e)&&void 0===r[e]&&(r[e]=arguments[t][e]);return r},r.prepareContent=function(t,e,a,s,l){return o.Promise.resolve(e).then(function(t){return i.blob&&(t instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(t)))&&"undefined"!=typeof FileReader?new o.Promise(function(e,r){var i=new FileReader;i.onload=function(t){e(t.target.result)},i.onerror=function(t){r(t.target.error)},i.readAsArrayBuffer(t)}):t}).then(function(e){var u,c=r.getTypeOf(e);return c?("arraybuffer"===c?e=r.transformTo("uint8array",e):"string"===c&&(l?e=n.decode(e):a&&!0!==s&&(e=h(u=e,i.uint8array?new Uint8Array(u.length):Array(u.length)))),e):o.Promise.reject(Error("Can't read the data of '"+t+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,e,r){var i=t("./reader/readerFor"),n=t("./utils"),a=t("./signature"),o=t("./zipEntry"),s=t("./support");function h(t){this.files=[],this.loadOptions=t}h.prototype={checkSignature:function(t){if(!this.reader.readAndCheckSignature(t)){this.reader.index-=4;var e=this.reader.readString(4);throw Error("Corrupted zip or bug: unexpected signature ("+n.pretty(e)+", expected "+n.pretty(t)+")")}},isSignature:function(t,e){var r=this.reader.index;this.reader.setIndex(t);var i=this.reader.readString(4)===e;return this.reader.setIndex(r),i},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),e=s.uint8array?"uint8array":"array",r=n.transformTo(e,t);this.zipComment=this.loadOptions.decodeFileName(r)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,r,i=this.zip64EndOfCentralSize-44;0<i;)t=this.reader.readInt(2),e=this.reader.readInt(4),r=this.reader.readData(e),this.zip64ExtensibleData[t]={id:t,length:e,value:r}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)e=this.files[t],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(t=new o({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(t<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?Error("Corrupted zip: can't find end of central directory"):Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(t);var e=t;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===n.MAX_VALUE_16BITS||this.diskWithCentralDirStart===n.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===n.MAX_VALUE_16BITS||this.centralDirRecords===n.MAX_VALUE_16BITS||this.centralDirSize===n.MAX_VALUE_32BITS||this.centralDirOffset===n.MAX_VALUE_32BITS){if(this.zip64=!0,(t=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(t),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var r=this.centralDirOffset+this.centralDirSize;this.zip64&&(r+=20+(12+this.zip64EndOfCentralSize));var i=e-r;if(0<i)this.isSignature(e,a.CENTRAL_FILE_HEADER)||(this.reader.zero=i);else if(i<0)throw Error("Corrupted zip: missing "+Math.abs(i)+" bytes.")},prepareReader:function(t){this.reader=i(t)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=h},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,e,r){var i=t("./reader/readerFor"),n=t("./utils"),a=t("./compressedObject"),o=t("./crc32"),s=t("./utf8"),h=t("./compressions"),l=t("./support");function u(t,e){this.options=t,this.loadOptions=e}u.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(t){var e,r;if(t.skip(22),this.fileNameLength=t.readInt(2),r=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(r),-1===this.compressedSize||-1===this.uncompressedSize)throw Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(e=function(t){for(var e in h)if(Object.prototype.hasOwnProperty.call(h,e)&&h[e].magic===t)return h[e];return null}(this.compressionMethod)))throw Error("Corrupted zip : compression "+n.pretty(this.compressionMethod)+" unknown (inner file : "+n.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,e,t.readData(this.compressedSize))},readCentralPart:function(t){this.versionMadeBy=t.readInt(2),t.skip(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4);var e=t.readInt(2);if(this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw Error("Encrypted zip are not supported");t.skip(e),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==t&&(this.dosPermissions=63&this.externalFileAttributes),3==t&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var t=i(this.extraFields[1].value);this.uncompressedSize===n.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===n.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===n.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===n.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(t){var e,r,i,n=t.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});t.index+4<n;)e=t.readInt(2),r=t.readInt(2),i=t.readData(r),this.extraFields[e]={id:e,length:r,value:i};t.setIndex(n)},handleUTF8:function(){var t=l.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();if(null!==e)this.fileNameStr=e;else{var r=n.transformTo(t,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(r)}var i=this.findExtraFieldUnicodeComment();if(null!==i)this.fileCommentStr=i;else{var a=n.transformTo(t,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(a)}}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=i(t.value);return 1!==e.readInt(1)?null:o(this.fileName)!==e.readInt(4)?null:s.utf8decode(e.readData(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=i(t.value);return 1!==e.readInt(1)?null:o(this.fileComment)!==e.readInt(4)?null:s.utf8decode(e.readData(t.length-5))}return null}},e.exports=u},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,e,r){function i(t,e,r){this.name=t,this.dir=r.dir,this.date=r.date,this.comment=r.comment,this.unixPermissions=r.unixPermissions,this.dosPermissions=r.dosPermissions,this._data=e,this._dataBinary=r.binary,this.options={compression:r.compression,compressionOptions:r.compressionOptions}}var n=t("./stream/StreamHelper"),a=t("./stream/DataWorker"),o=t("./utf8"),s=t("./compressedObject"),h=t("./stream/GenericWorker");i.prototype={internalStream:function(t){var e=null,r="string";try{if(!t)throw Error("No output type specified.");var i="string"===(r=t.toLowerCase())||"text"===r;"binarystring"!==r&&"text"!==r||(r="string"),e=this._decompressWorker();var a=!this._dataBinary;a&&!i&&(e=e.pipe(new o.Utf8EncodeWorker)),!a&&i&&(e=e.pipe(new o.Utf8DecodeWorker))}catch(t){(e=new h("error")).error(t)}return new n(e,r,"")},async:function(t,e){return this.internalStream(t).accumulate(e)},nodeStream:function(t,e){return this.internalStream(t||"nodebuffer").toNodejsStream(e)},_compressWorker:function(t,e){if(this._data instanceof s&&this._data.compression.magic===t.magic)return this._data.getCompressedWorker();var r=this._decompressWorker();return this._dataBinary||(r=r.pipe(new o.Utf8EncodeWorker)),s.createWorkerFrom(r,t,e)},_decompressWorker:function(){return this._data instanceof s?this._data.getContentWorker():this._data instanceof h?this._data:new a(this._data)}};for(var l=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],u=function(){throw Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},c=0;c<l.length;c++)i.prototype[l[c]]=u;e.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,e,r){(function(t){var r,i,n=t.MutationObserver||t.WebKitMutationObserver;if(n){var a=0,o=new n(u),s=t.document.createTextNode("");o.observe(s,{characterData:!0}),r=function(){s.data=a=++a%2}}else if(t.setImmediate||void 0===t.MessageChannel)r="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){u(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(u,0)};else{var h=new t.MessageChannel;h.port1.onmessage=u,r=function(){h.port2.postMessage(0)}}var l=[];function u(){var t,e;i=!0;for(var r=l.length;r;){for(e=l,l=[],t=-1;++t<r;)e[t]();r=l.length}i=!1}e.exports=function(t){1!==l.push(t)||i||r()}}).call(this,void 0!==h?h:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(t,e,r){var i=t("immediate");function n(){}var a={},o=["REJECTED"],s=["FULFILLED"],h=["PENDING"];function l(t){if("function"!=typeof t)throw TypeError("resolver must be a function");this.state=h,this.queue=[],this.outcome=void 0,t!==n&&d(this,t)}function u(t,e,r){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function c(t,e,r){i(function(){var i;try{i=e(r)}catch(e){return a.reject(t,e)}i===t?a.reject(t,TypeError("Cannot resolve promise with itself")):a.resolve(t,i)})}function f(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function d(t,e){var r=!1;function i(e){r||(r=!0,a.reject(t,e))}function n(e){r||(r=!0,a.resolve(t,e))}var o=p(function(){e(n,i)});"error"===o.status&&i(o.value)}function p(t,e){var r={};try{r.value=t(e),r.status="success"}catch(t){r.status="error",r.value=t}return r}(e.exports=l).prototype.finally=function(t){if("function"!=typeof t)return this;var e=this.constructor;return this.then(function(r){return e.resolve(t()).then(function(){return r})},function(r){return e.resolve(t()).then(function(){throw r})})},l.prototype.catch=function(t){return this.then(null,t)},l.prototype.then=function(t,e){if("function"!=typeof t&&this.state===s||"function"!=typeof e&&this.state===o)return this;var r=new this.constructor(n);return this.state!==h?c(r,this.state===s?t:e,this.outcome):this.queue.push(new u(r,t,e)),r},u.prototype.callFulfilled=function(t){a.resolve(this.promise,t)},u.prototype.otherCallFulfilled=function(t){c(this.promise,this.onFulfilled,t)},u.prototype.callRejected=function(t){a.reject(this.promise,t)},u.prototype.otherCallRejected=function(t){c(this.promise,this.onRejected,t)},a.resolve=function(t,e){var r=p(f,e);if("error"===r.status)return a.reject(t,r.value);var i=r.value;if(i)d(t,i);else{t.state=s,t.outcome=e;for(var n=-1,o=t.queue.length;++n<o;)t.queue[n].callFulfilled(e)}return t},a.reject=function(t,e){t.state=o,t.outcome=e;for(var r=-1,i=t.queue.length;++r<i;)t.queue[r].callRejected(e);return t},l.resolve=function(t){return t instanceof this?t:a.resolve(new this(n),t)},l.reject=function(t){var e=new this(n);return a.reject(e,t)},l.all=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(TypeError("must be an array"));var r=t.length,i=!1;if(!r)return this.resolve([]);for(var o=Array(r),s=0,h=-1,l=new this(n);++h<r;)(function(t,n){e.resolve(t).then(function(t){o[n]=t,++s!==r||i||(i=!0,a.resolve(l,o))},function(t){i||(i=!0,a.reject(l,t))})})(t[h],h);return l},l.race=function(t){if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(TypeError("must be an array"));var e,r=t.length,i=!1;if(!r)return this.resolve([]);for(var o=-1,s=new this(n);++o<r;)e=t[o],this.resolve(e).then(function(t){i||(i=!0,a.resolve(s,t))},function(t){i||(i=!0,a.reject(s,t))});return s}},{immediate:36}],38:[function(t,e,r){var i={};(0,t("./lib/utils/common").assign)(i,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),e.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,e,r){var i=t("./zlib/deflate"),n=t("./utils/common"),a=t("./utils/strings"),o=t("./zlib/messages"),s=t("./zlib/zstream"),h=Object.prototype.toString;function l(t){if(!(this instanceof l))return new l(t);this.options=n.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},t||{});var e,r=this.options;r.raw&&0<r.windowBits?r.windowBits=-r.windowBits:r.gzip&&0<r.windowBits&&r.windowBits<16&&(r.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var u=i.deflateInit2(this.strm,r.level,r.method,r.windowBits,r.memLevel,r.strategy);if(0!==u)throw Error(o[u]);if(r.header&&i.deflateSetHeader(this.strm,r.header),r.dictionary){if(e="string"==typeof r.dictionary?a.string2buf(r.dictionary):"[object ArrayBuffer]"===h.call(r.dictionary)?new Uint8Array(r.dictionary):r.dictionary,0!==(u=i.deflateSetDictionary(this.strm,e)))throw Error(o[u]);this._dict_set=!0}}function u(t,e){var r=new l(e);if(r.push(t,!0),r.err)throw r.msg||o[r.err];return r.result}l.prototype.push=function(t,e){var r,o,s=this.strm,l=this.options.chunkSize;if(this.ended)return!1;o=e===~~e?e:!0===e?4:0,"string"==typeof t?s.input=a.string2buf(t):"[object ArrayBuffer]"===h.call(t)?s.input=new Uint8Array(t):s.input=t,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new n.Buf8(l),s.next_out=0,s.avail_out=l),1!==(r=i.deflate(s,o))&&0!==r)return this.onEnd(r),this.ended=!0,!1;0!==s.avail_out&&(0!==s.avail_in||4!==o&&2!==o)||("string"===this.options.to?this.onData(a.buf2binstring(n.shrinkBuf(s.output,s.next_out))):this.onData(n.shrinkBuf(s.output,s.next_out)))}while((0<s.avail_in||0===s.avail_out)&&1!==r)return 4===o?(r=i.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,0===r):2!==o||(this.onEnd(0),s.avail_out=0,!0)},l.prototype.onData=function(t){this.chunks.push(t)},l.prototype.onEnd=function(t){0===t&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},r.Deflate=l,r.deflate=u,r.deflateRaw=function(t,e){return(e=e||{}).raw=!0,u(t,e)},r.gzip=function(t,e){return(e=e||{}).gzip=!0,u(t,e)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,e,r){var i=t("./zlib/inflate"),n=t("./utils/common"),a=t("./utils/strings"),o=t("./zlib/constants"),s=t("./zlib/messages"),h=t("./zlib/zstream"),l=t("./zlib/gzheader"),u=Object.prototype.toString;function c(t){if(!(this instanceof c))return new c(t);this.options=n.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&0<=e.windowBits&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(0<=e.windowBits&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),15<e.windowBits&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var r=i.inflateInit2(this.strm,e.windowBits);if(r!==o.Z_OK)throw Error(s[r]);this.header=new l,i.inflateGetHeader(this.strm,this.header)}function f(t,e){var r=new c(e);if(r.push(t,!0),r.err)throw r.msg||s[r.err];return r.result}c.prototype.push=function(t,e){var r,s,h,l,c,f,d=this.strm,p=this.options.chunkSize,m=this.options.dictionary,g=!1;if(this.ended)return!1;s=e===~~e?e:!0===e?o.Z_FINISH:o.Z_NO_FLUSH,"string"==typeof t?d.input=a.binstring2buf(t):"[object ArrayBuffer]"===u.call(t)?d.input=new Uint8Array(t):d.input=t,d.next_in=0,d.avail_in=d.input.length;do{if(0===d.avail_out&&(d.output=new n.Buf8(p),d.next_out=0,d.avail_out=p),(r=i.inflate(d,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&m&&(f="string"==typeof m?a.string2buf(m):"[object ArrayBuffer]"===u.call(m)?new Uint8Array(m):m,r=i.inflateSetDictionary(this.strm,f)),r===o.Z_BUF_ERROR&&!0===g&&(r=o.Z_OK,g=!1),r!==o.Z_STREAM_END&&r!==o.Z_OK)return this.onEnd(r),this.ended=!0,!1;d.next_out&&(0!==d.avail_out&&r!==o.Z_STREAM_END&&(0!==d.avail_in||s!==o.Z_FINISH&&s!==o.Z_SYNC_FLUSH)||("string"===this.options.to?(h=a.utf8border(d.output,d.next_out),l=d.next_out-h,c=a.buf2string(d.output,h),d.next_out=l,d.avail_out=p-l,l&&n.arraySet(d.output,d.output,h,l,0),this.onData(c)):this.onData(n.shrinkBuf(d.output,d.next_out)))),0===d.avail_in&&0===d.avail_out&&(g=!0)}while((0<d.avail_in||0===d.avail_out)&&r!==o.Z_STREAM_END)return r===o.Z_STREAM_END&&(s=o.Z_FINISH),s===o.Z_FINISH?(r=i.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===o.Z_OK):s!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),d.avail_out=0,!0)},c.prototype.onData=function(t){this.chunks.push(t)},c.prototype.onEnd=function(t){t===o.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},r.Inflate=c,r.inflate=f,r.inflateRaw=function(t,e){return(e=e||{}).raw=!0,f(t,e)},r.ungzip=f},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,e,r){var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;r.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var r=e.shift();if(r){if("object"!=typeof r)throw TypeError(r+"must be non-object");for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])}}return t},r.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var n={arraySet:function(t,e,r,i,n){if(e.subarray&&t.subarray)t.set(e.subarray(r,r+i),n);else for(var a=0;a<i;a++)t[n+a]=e[r+a]},flattenChunks:function(t){var e,r,i,n,a,o;for(e=i=0,r=t.length;e<r;e++)i+=t[e].length;for(o=new Uint8Array(i),e=n=0,r=t.length;e<r;e++)a=t[e],o.set(a,n),n+=a.length;return o}},a={arraySet:function(t,e,r,i,n){for(var a=0;a<i;a++)t[n+a]=e[r+a]},flattenChunks:function(t){return[].concat.apply([],t)}};r.setTyped=function(t){t?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,n)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,a))},r.setTyped(i)},{}],42:[function(t,e,r){var i=t("./common"),n=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(t){n=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){a=!1}for(var o=new i.Buf8(256),s=0;s<256;s++)o[s]=252<=s?6:248<=s?5:240<=s?4:224<=s?3:192<=s?2:1;function h(t,e){if(e<65537&&(t.subarray&&a||!t.subarray&&n))return String.fromCharCode.apply(null,i.shrinkBuf(t,e));for(var r="",o=0;o<e;o++)r+=String.fromCharCode(t[o]);return r}o[254]=o[254]=1,r.string2buf=function(t){var e,r,n,a,o,s=t.length,h=0;for(a=0;a<s;a++)55296==(64512&(r=t.charCodeAt(a)))&&a+1<s&&56320==(64512&(n=t.charCodeAt(a+1)))&&(r=65536+(r-55296<<10)+(n-56320),a++),h+=r<128?1:r<2048?2:r<65536?3:4;for(e=new i.Buf8(h),a=o=0;o<h;a++)55296==(64512&(r=t.charCodeAt(a)))&&a+1<s&&56320==(64512&(n=t.charCodeAt(a+1)))&&(r=65536+(r-55296<<10)+(n-56320),a++),r<128?e[o++]=r:(r<2048?e[o++]=192|r>>>6:(r<65536?e[o++]=224|r>>>12:(e[o++]=240|r>>>18,e[o++]=128|r>>>12&63),e[o++]=128|r>>>6&63),e[o++]=128|63&r);return e},r.buf2binstring=function(t){return h(t,t.length)},r.binstring2buf=function(t){for(var e=new i.Buf8(t.length),r=0,n=e.length;r<n;r++)e[r]=t.charCodeAt(r);return e},r.buf2string=function(t,e){var r,i,n,a,s=e||t.length,l=Array(2*s);for(r=i=0;r<s;)if((n=t[r++])<128)l[i++]=n;else if(4<(a=o[n]))l[i++]=65533,r+=a-1;else{for(n&=2===a?31:3===a?15:7;1<a&&r<s;)n=n<<6|63&t[r++],a--;1<a?l[i++]=65533:n<65536?l[i++]=n:(n-=65536,l[i++]=55296|n>>10&1023,l[i++]=56320|1023&n)}return h(l,i)},r.utf8border=function(t,e){var r;for((e=e||t.length)>t.length&&(e=t.length),r=e-1;0<=r&&128==(192&t[r]);)r--;return r<0?e:0===r?e:r+o[t[r]]>e?r:e}},{"./common":41}],43:[function(t,e,r){e.exports=function(t,e,r,i){for(var n=65535&t|0,a=t>>>16&65535|0,o=0;0!==r;){for(r-=o=2e3<r?2e3:r;a=a+(n=n+e[i++]|0)|0,--o;);n%=65521,a%=65521}return n|a<<16|0}},{}],44:[function(t,e,r){e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,e,r){var i=function(){for(var t,e=[],r=0;r<256;r++){t=r;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e}();e.exports=function(t,e,r,n){var a=n+r;t^=-1;for(var o=n;o<a;o++)t=t>>>8^i[255&(t^e[o])];return -1^t}},{}],46:[function(t,e,r){var i,n=t("../utils/common"),a=t("./trees"),o=t("./adler32"),s=t("./crc32"),h=t("./messages");function l(t,e){return t.msg=h[e],e}function u(t){return(t<<1)-(4<t?9:0)}function c(t){for(var e=t.length;0<=--e;)t[e]=0}function f(t){var e=t.state,r=e.pending;r>t.avail_out&&(r=t.avail_out),0!==r&&(n.arraySet(t.output,e.pending_buf,e.pending_out,r,t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,0===e.pending&&(e.pending_out=0))}function d(t,e){a._tr_flush_block(t,0<=t.block_start?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,f(t.strm)}function p(t,e){t.pending_buf[t.pending++]=e}function m(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function g(t,e){var r,i,n=t.max_chain_length,a=t.strstart,o=t.prev_length,s=t.nice_match,h=t.strstart>t.w_size-262?t.strstart-(t.w_size-262):0,l=t.window,u=t.w_mask,c=t.prev,f=t.strstart+258,d=l[a+o-1],p=l[a+o];t.prev_length>=t.good_match&&(n>>=2),s>t.lookahead&&(s=t.lookahead);do if(l[(r=e)+o]===p&&l[r+o-1]===d&&l[r]===l[a]&&l[++r]===l[a+1]){a+=2,r++;do;while(l[++a]===l[++r]&&l[++a]===l[++r]&&l[++a]===l[++r]&&l[++a]===l[++r]&&l[++a]===l[++r]&&l[++a]===l[++r]&&l[++a]===l[++r]&&l[++a]===l[++r]&&a<f)if(i=258-(f-a),a=f-258,o<i){if(t.match_start=e,s<=(o=i))break;d=l[a+o-1],p=l[a+o]}}while((e=c[e&u])>h&&0!=--n)return o<=t.lookahead?o:t.lookahead}function v(t){var e,r,i,a,h,l,u,c,f,d,p=t.w_size;do{if(a=t.window_size-t.lookahead-t.strstart,t.strstart>=p+(p-262)){for(n.arraySet(t.window,t.window,p,p,0),t.match_start-=p,t.strstart-=p,t.block_start-=p,e=r=t.hash_size;i=t.head[--e],t.head[e]=p<=i?i-p:0,--r;);for(e=r=p;i=t.prev[--e],t.prev[e]=p<=i?i-p:0,--r;);a+=p}if(0===t.strm.avail_in)break;if(l=t.strm,u=t.window,c=t.strstart+t.lookahead,d=void 0,(f=a)<(d=l.avail_in)&&(d=f),r=0===d?0:(l.avail_in-=d,n.arraySet(u,l.input,l.next_in,d,c),1===l.state.wrap?l.adler=o(l.adler,u,d,c):2===l.state.wrap&&(l.adler=s(l.adler,u,d,c)),l.next_in+=d,l.total_in+=d,d),t.lookahead+=r,t.lookahead+t.insert>=3)for(h=t.strstart-t.insert,t.ins_h=t.window[h],t.ins_h=(t.ins_h<<t.hash_shift^t.window[h+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[h+3-1])&t.hash_mask,t.prev[h&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=h,h++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<262&&0!==t.strm.avail_in)}function y(t,e){for(var r,i;;){if(t.lookahead<262){if(v(t),t.lookahead<262&&0===e)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==r&&t.strstart-r<=t.w_size-262&&(t.match_length=g(t,r)),t.match_length>=3){if(i=a._tr_tally(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){for(t.match_length--;t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart,0!=--t.match_length;);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask}else i=a._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(d(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,4===e?(d(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(d(t,!1),0===t.strm.avail_out)?1:2}function b(t,e){for(var r,i,n;;){if(t.lookahead<262){if(v(t),t.lookahead<262&&0===e)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==r&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-262&&(t.match_length=g(t,r),t.match_length<=5&&(1===t.strategy||3===t.match_length&&4096<t.strstart-t.match_start)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){for(n=t.strstart+t.lookahead-3,i=a._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;++t.strstart<=n&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!=--t.prev_length;);if(t.match_available=0,t.match_length=2,t.strstart++,i&&(d(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((i=a._tr_tally(t,0,t.window[t.strstart-1]))&&d(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=a._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,4===e?(d(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(d(t,!1),0===t.strm.avail_out)?1:2}function w(t,e,r,i,n){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=i,this.func=n}function _(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new n.Buf16(1146),this.dyn_dtree=new n.Buf16(122),this.bl_tree=new n.Buf16(78),c(this.dyn_ltree),c(this.dyn_dtree),c(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new n.Buf16(16),this.heap=new n.Buf16(573),c(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new n.Buf16(573),c(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function x(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=2,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:113,t.adler=2===e.wrap?0:1,e.last_flush=0,a._tr_init(e),0):l(t,-2)}function k(t){var e,r=x(t);return 0===r&&((e=t.state).window_size=2*e.w_size,c(e.head),e.max_lazy_match=i[e.level].max_lazy,e.good_match=i[e.level].good_length,e.nice_match=i[e.level].nice_length,e.max_chain_length=i[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),r}function E(t,e,r,i,a,o){if(!t)return -2;var s=1;if(-1===e&&(e=6),i<0?(s=0,i=-i):15<i&&(s=2,i-=16),a<1||9<a||8!==r||i<8||15<i||e<0||9<e||o<0||4<o)return l(t,-2);8===i&&(i=9);var h=new _;return(t.state=h).strm=t,h.wrap=s,h.gzhead=null,h.w_bits=i,h.w_size=1<<h.w_bits,h.w_mask=h.w_size-1,h.hash_bits=a+7,h.hash_size=1<<h.hash_bits,h.hash_mask=h.hash_size-1,h.hash_shift=~~((h.hash_bits+3-1)/3),h.window=new n.Buf8(2*h.w_size),h.head=new n.Buf16(h.hash_size),h.prev=new n.Buf16(h.w_size),h.lit_bufsize=1<<a+6,h.pending_buf_size=4*h.lit_bufsize,h.pending_buf=new n.Buf8(h.pending_buf_size),h.d_buf=1*h.lit_bufsize,h.l_buf=3*h.lit_bufsize,h.level=e,h.strategy=o,h.method=r,k(t)}i=[new w(0,0,0,0,function(t,e){var r=65535;for(65535>t.pending_buf_size-5&&(r=t.pending_buf_size-5);;){if(t.lookahead<=1){if(v(t),0===t.lookahead&&0===e)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var i=t.block_start+r;if((0===t.strstart||t.strstart>=i)&&(t.lookahead=t.strstart-i,t.strstart=i,d(t,!1),0===t.strm.avail_out)||t.strstart-t.block_start>=t.w_size-262&&(d(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(d(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(d(t,!1),t.strm.avail_out),1)}),new w(4,4,8,4,y),new w(4,5,16,8,y),new w(4,6,32,32,y),new w(4,4,16,16,b),new w(8,16,32,32,b),new w(8,16,128,128,b),new w(8,32,128,256,b),new w(32,128,258,1024,b),new w(32,258,258,4096,b)],r.deflateInit=function(t,e){return E(t,e,8,15,8,0)},r.deflateInit2=E,r.deflateReset=k,r.deflateResetKeep=x,r.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?-2:(t.state.gzhead=e,0):-2},r.deflate=function(t,e){var r,n,o,h;if(!t||!t.state||5<e||e<0)return t?l(t,-2):-2;if(n=t.state,!t.output||!t.input&&0!==t.avail_in||666===n.status&&4!==e)return l(t,0===t.avail_out?-5:-2);if(n.strm=t,r=n.last_flush,n.last_flush=e,42===n.status){if(2===n.wrap)t.adler=0,p(n,31),p(n,139),p(n,8),n.gzhead?(p(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),p(n,255&n.gzhead.time),p(n,n.gzhead.time>>8&255),p(n,n.gzhead.time>>16&255),p(n,n.gzhead.time>>24&255),p(n,9===n.level?2:2<=n.strategy||n.level<2?4:0),p(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(p(n,255&n.gzhead.extra.length),p(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=s(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69):(p(n,0),p(n,0),p(n,0),p(n,0),p(n,0),p(n,9===n.level?2:2<=n.strategy||n.level<2?4:0),p(n,3),n.status=113);else{var g=8+(n.w_bits-8<<4)<<8;g|=(2<=n.strategy||n.level<2?0:n.level<6?1:6===n.level?2:3)<<6,0!==n.strstart&&(g|=32),g+=31-g%31,n.status=113,m(n,g),0!==n.strstart&&(m(n,t.adler>>>16),m(n,65535&t.adler)),t.adler=1}}if(69===n.status){if(n.gzhead.extra){for(o=n.pending;n.gzindex<(65535&n.gzhead.extra.length)&&(n.pending!==n.pending_buf_size||(n.gzhead.hcrc&&n.pending>o&&(t.adler=s(t.adler,n.pending_buf,n.pending-o,o)),f(t),o=n.pending,n.pending!==n.pending_buf_size));)p(n,255&n.gzhead.extra[n.gzindex]),n.gzindex++;n.gzhead.hcrc&&n.pending>o&&(t.adler=s(t.adler,n.pending_buf,n.pending-o,o)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=73)}else n.status=73}if(73===n.status){if(n.gzhead.name){o=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>o&&(t.adler=s(t.adler,n.pending_buf,n.pending-o,o)),f(t),o=n.pending,n.pending===n.pending_buf_size)){h=1;break}h=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,p(n,h)}while(0!==h)n.gzhead.hcrc&&n.pending>o&&(t.adler=s(t.adler,n.pending_buf,n.pending-o,o)),0===h&&(n.gzindex=0,n.status=91)}else n.status=91}if(91===n.status){if(n.gzhead.comment){o=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>o&&(t.adler=s(t.adler,n.pending_buf,n.pending-o,o)),f(t),o=n.pending,n.pending===n.pending_buf_size)){h=1;break}h=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,p(n,h)}while(0!==h)n.gzhead.hcrc&&n.pending>o&&(t.adler=s(t.adler,n.pending_buf,n.pending-o,o)),0===h&&(n.status=103)}else n.status=103}if(103===n.status&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&f(t),n.pending+2<=n.pending_buf_size&&(p(n,255&t.adler),p(n,t.adler>>8&255),t.adler=0,n.status=113)):n.status=113),0!==n.pending){if(f(t),0===t.avail_out)return n.last_flush=-1,0}else if(0===t.avail_in&&u(e)<=u(r)&&4!==e)return l(t,-5);if(666===n.status&&0!==t.avail_in)return l(t,-5);if(0!==t.avail_in||0!==n.lookahead||0!==e&&666!==n.status){var y=2===n.strategy?function(t,e){for(var r;;){if(0===t.lookahead&&(v(t),0===t.lookahead)){if(0===e)return 1;break}if(t.match_length=0,r=a._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(d(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(d(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(d(t,!1),0===t.strm.avail_out)?1:2}(n,e):3===n.strategy?function(t,e){for(var r,i,n,o,s=t.window;;){if(t.lookahead<=258){if(v(t),t.lookahead<=258&&0===e)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&0<t.strstart&&(i=s[n=t.strstart-1])===s[++n]&&i===s[++n]&&i===s[++n]){o=t.strstart+258;do;while(i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&n<o)t.match_length=258-(o-n),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(r=a._tr_tally(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=a._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(d(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(d(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(d(t,!1),0===t.strm.avail_out)?1:2}(n,e):i[n.level].func(n,e);if(3!==y&&4!==y||(n.status=666),1===y||3===y)return 0===t.avail_out&&(n.last_flush=-1),0;if(2===y&&(1===e?a._tr_align(n):5!==e&&(a._tr_stored_block(n,0,0,!1),3===e&&(c(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),f(t),0===t.avail_out))return n.last_flush=-1,0}return 4!==e?0:n.wrap<=0?1:(2===n.wrap?(p(n,255&t.adler),p(n,t.adler>>8&255),p(n,t.adler>>16&255),p(n,t.adler>>24&255),p(n,255&t.total_in),p(n,t.total_in>>8&255),p(n,t.total_in>>16&255),p(n,t.total_in>>24&255)):(m(n,t.adler>>>16),m(n,65535&t.adler)),f(t),0<n.wrap&&(n.wrap=-n.wrap),0!==n.pending?0:1)},r.deflateEnd=function(t){var e;return t&&t.state?42!==(e=t.state.status)&&69!==e&&73!==e&&91!==e&&103!==e&&113!==e&&666!==e?l(t,-2):(t.state=null,113===e?l(t,-3):0):-2},r.deflateSetDictionary=function(t,e){var r,i,a,s,h,l,u,f,d=e.length;if(!t||!t.state||2===(s=(r=t.state).wrap)||1===s&&42!==r.status||r.lookahead)return -2;for(1===s&&(t.adler=o(t.adler,e,d,0)),r.wrap=0,d>=r.w_size&&(0===s&&(c(r.head),r.strstart=0,r.block_start=0,r.insert=0),f=new n.Buf8(r.w_size),n.arraySet(f,e,d-r.w_size,r.w_size,0),e=f,d=r.w_size),h=t.avail_in,l=t.next_in,u=t.input,t.avail_in=d,t.next_in=0,t.input=e,v(r);r.lookahead>=3;){for(i=r.strstart,a=r.lookahead-2;r.ins_h=(r.ins_h<<r.hash_shift^r.window[i+3-1])&r.hash_mask,r.prev[i&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=i,i++,--a;);r.strstart=i,r.lookahead=2,v(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,t.next_in=l,t.input=u,t.avail_in=h,r.wrap=s,0},r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,e,r){e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,e,r){e.exports=function(t,e){var r,i,n,a,o,s,h,l,u,c,f,d,p,m,g,v,y,b,w,_,x,k,E,C,B;r=t.state,i=t.next_in,C=t.input,n=i+(t.avail_in-5),a=t.next_out,B=t.output,o=a-(e-t.avail_out),s=a+(t.avail_out-257),h=r.dmax,l=r.wsize,u=r.whave,c=r.wnext,f=r.window,d=r.hold,p=r.bits,m=r.lencode,g=r.distcode,v=(1<<r.lenbits)-1,y=(1<<r.distbits)-1;t:do for(p<15&&(d+=C[i++]<<p,p+=8,d+=C[i++]<<p,p+=8),b=m[d&v];;){if(d>>>=w=b>>>24,p-=w,0==(w=b>>>16&255))B[a++]=65535&b;else{if(!(16&w)){if(0==(64&w)){b=m[(65535&b)+(d&(1<<w)-1)];continue}if(32&w){r.mode=12;break t}t.msg="invalid literal/length code",r.mode=30;break t}for(_=65535&b,(w&=15)&&(p<w&&(d+=C[i++]<<p,p+=8),_+=d&(1<<w)-1,d>>>=w,p-=w),p<15&&(d+=C[i++]<<p,p+=8,d+=C[i++]<<p,p+=8),b=g[d&y];;){if(d>>>=w=b>>>24,p-=w,!(16&(w=b>>>16&255))){if(0==(64&w)){b=g[(65535&b)+(d&(1<<w)-1)];continue}t.msg="invalid distance code",r.mode=30;break t}if(x=65535&b,p<(w&=15)&&(d+=C[i++]<<p,(p+=8)<w&&(d+=C[i++]<<p,p+=8)),h<(x+=d&(1<<w)-1)){t.msg="invalid distance too far back",r.mode=30;break t}if(d>>>=w,p-=w,(w=a-o)<x){if(u<(w=x-w)&&r.sane){t.msg="invalid distance too far back",r.mode=30;break t}if(E=f,(k=0)===c){if(k+=l-w,w<_){for(_-=w;B[a++]=f[k++],--w;);k=a-x,E=B}}else if(c<w){if(k+=l+c-w,(w-=c)<_){for(_-=w;B[a++]=f[k++],--w;);if(k=0,c<_){for(_-=w=c;B[a++]=f[k++],--w;);k=a-x,E=B}}}else if(k+=c-w,w<_){for(_-=w;B[a++]=f[k++],--w;);k=a-x,E=B}for(;2<_;)B[a++]=E[k++],B[a++]=E[k++],B[a++]=E[k++],_-=3;_&&(B[a++]=E[k++],1<_&&(B[a++]=E[k++]))}else{for(k=a-x;B[a++]=B[k++],B[a++]=B[k++],B[a++]=B[k++],2<(_-=3););_&&(B[a++]=B[k++],1<_&&(B[a++]=B[k++]))}break}}break}while(i<n&&a<s)i-=_=p>>3,d&=(1<<(p-=_<<3))-1,t.next_in=i,t.next_out=a,t.avail_in=i<n?n-i+5:5-(i-n),t.avail_out=a<s?s-a+257:257-(a-s),r.hold=d,r.bits=p}},{}],49:[function(t,e,r){var i=t("../utils/common"),n=t("./adler32"),a=t("./crc32"),o=t("./inffast"),s=t("./inftrees");function h(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function l(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function u(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new i.Buf32(852),e.distcode=e.distdyn=new i.Buf32(592),e.sane=1,e.back=-1,0):-2}function c(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,u(t)):-2}function f(t,e){var r,i;return t&&t.state?(i=t.state,e<0?(r=0,e=-e):(r=1+(e>>4),e<48&&(e&=15)),e&&(e<8||15<e)?-2:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=r,i.wbits=e,c(t))):-2}function d(t,e){var r,i;return t?(i=new l,(t.state=i).window=null,0!==(r=f(t,e))&&(t.state=null),r):-2}var p,m,g=!0;function v(t,e,r,n){var a,o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new i.Buf8(o.wsize)),n>=o.wsize?(i.arraySet(o.window,e,r-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(n<(a=o.wsize-o.wnext)&&(a=n),i.arraySet(o.window,e,r-n,a,o.wnext),(n-=a)?(i.arraySet(o.window,e,r-n,n,0),o.wnext=n,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0}r.inflateReset=c,r.inflateReset2=f,r.inflateResetKeep=u,r.inflateInit=function(t){return d(t,15)},r.inflateInit2=d,r.inflate=function(t,e){var r,l,u,c,f,d,y,b,w,_,x,k,E,C,B,A,S,I,z,O,T,R,D,M,U=0,L=new i.Buf8(4),N=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return -2;12===(r=t.state).mode&&(r.mode=13),f=t.next_out,u=t.output,y=t.avail_out,c=t.next_in,l=t.input,d=t.avail_in,b=r.hold,w=r.bits,_=d,x=y,R=0;t:for(;;)switch(r.mode){case 1:if(0===r.wrap){r.mode=13;break}for(;w<16;){if(0===d)break t;d--,b+=l[c++]<<w,w+=8}if(2&r.wrap&&35615===b){L[r.check=0]=255&b,L[1]=b>>>8&255,r.check=a(r.check,L,2,0),w=b=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&b)<<8)+(b>>8))%31){t.msg="incorrect header check",r.mode=30;break}if(8!=(15&b)){t.msg="unknown compression method",r.mode=30;break}if(w-=4,T=8+(15&(b>>>=4)),0===r.wbits)r.wbits=T;else if(T>r.wbits){t.msg="invalid window size",r.mode=30;break}r.dmax=1<<T,t.adler=r.check=1,r.mode=512&b?10:12,w=b=0;break;case 2:for(;w<16;){if(0===d)break t;d--,b+=l[c++]<<w,w+=8}if(r.flags=b,8!=(255&r.flags)){t.msg="unknown compression method",r.mode=30;break}if(57344&r.flags){t.msg="unknown header flags set",r.mode=30;break}r.head&&(r.head.text=b>>8&1),512&r.flags&&(L[0]=255&b,L[1]=b>>>8&255,r.check=a(r.check,L,2,0)),w=b=0,r.mode=3;case 3:for(;w<32;){if(0===d)break t;d--,b+=l[c++]<<w,w+=8}r.head&&(r.head.time=b),512&r.flags&&(L[0]=255&b,L[1]=b>>>8&255,L[2]=b>>>16&255,L[3]=b>>>24&255,r.check=a(r.check,L,4,0)),w=b=0,r.mode=4;case 4:for(;w<16;){if(0===d)break t;d--,b+=l[c++]<<w,w+=8}r.head&&(r.head.xflags=255&b,r.head.os=b>>8),512&r.flags&&(L[0]=255&b,L[1]=b>>>8&255,r.check=a(r.check,L,2,0)),w=b=0,r.mode=5;case 5:if(1024&r.flags){for(;w<16;){if(0===d)break t;d--,b+=l[c++]<<w,w+=8}r.length=b,r.head&&(r.head.extra_len=b),512&r.flags&&(L[0]=255&b,L[1]=b>>>8&255,r.check=a(r.check,L,2,0)),w=b=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&(d<(k=r.length)&&(k=d),k&&(r.head&&(T=r.head.extra_len-r.length,r.head.extra||(r.head.extra=Array(r.head.extra_len)),i.arraySet(r.head.extra,l,c,k,T)),512&r.flags&&(r.check=a(r.check,l,k,c)),d-=k,c+=k,r.length-=k),r.length))break t;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===d)break t;for(k=0;T=l[c+k++],r.head&&T&&r.length<65536&&(r.head.name+=String.fromCharCode(T)),T&&k<d;);if(512&r.flags&&(r.check=a(r.check,l,k,c)),d-=k,c+=k,T)break t}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===d)break t;for(k=0;T=l[c+k++],r.head&&T&&r.length<65536&&(r.head.comment+=String.fromCharCode(T)),T&&k<d;);if(512&r.flags&&(r.check=a(r.check,l,k,c)),d-=k,c+=k,T)break t}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;w<16;){if(0===d)break t;d--,b+=l[c++]<<w,w+=8}if(b!==(65535&r.check)){t.msg="header crc mismatch",r.mode=30;break}w=b=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=12;break;case 10:for(;w<32;){if(0===d)break t;d--,b+=l[c++]<<w,w+=8}t.adler=r.check=h(b),w=b=0,r.mode=11;case 11:if(0===r.havedict)return t.next_out=f,t.avail_out=y,t.next_in=c,t.avail_in=d,r.hold=b,r.bits=w,2;t.adler=r.check=1,r.mode=12;case 12:if(5===e||6===e)break t;case 13:if(r.last){b>>>=7&w,w-=7&w,r.mode=27;break}for(;w<3;){if(0===d)break t;d--,b+=l[c++]<<w,w+=8}switch(r.last=1&b,w-=1,3&(b>>>=1)){case 0:r.mode=14;break;case 1:if(function(t){if(g){var e;for(p=new i.Buf32(512),m=new i.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(s(1,t.lens,0,288,p,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;s(2,t.lens,0,32,m,0,t.work,{bits:5}),g=!1}t.lencode=p,t.lenbits=9,t.distcode=m,t.distbits=5}(r),r.mode=20,6!==e)break;b>>>=2,w-=2;break t;case 2:r.mode=17;break;case 3:t.msg="invalid block type",r.mode=30}b>>>=2,w-=2;break;case 14:for(b>>>=7&w,w-=7&w;w<32;){if(0===d)break t;d--,b+=l[c++]<<w,w+=8}if((65535&b)!=(b>>>16^65535)){t.msg="invalid stored block lengths",r.mode=30;break}if(r.length=65535&b,w=b=0,r.mode=15,6===e)break t;case 15:r.mode=16;case 16:if(k=r.length){if(d<k&&(k=d),y<k&&(k=y),0===k)break t;i.arraySet(u,l,c,k,f),d-=k,c+=k,y-=k,f+=k,r.length-=k;break}r.mode=12;break;case 17:for(;w<14;){if(0===d)break t;d--,b+=l[c++]<<w,w+=8}if(r.nlen=257+(31&b),b>>>=5,w-=5,r.ndist=1+(31&b),b>>>=5,w-=5,r.ncode=4+(15&b),b>>>=4,w-=4,286<r.nlen||30<r.ndist){t.msg="too many length or distance symbols",r.mode=30;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;w<3;){if(0===d)break t;d--,b+=l[c++]<<w,w+=8}r.lens[N[r.have++]]=7&b,b>>>=3,w-=3}for(;r.have<19;)r.lens[N[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,D={bits:r.lenbits},R=s(0,r.lens,0,19,r.lencode,0,r.work,D),r.lenbits=D.bits,R){t.msg="invalid code lengths set",r.mode=30;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;A=(U=r.lencode[b&(1<<r.lenbits)-1])>>>16&255,S=65535&U,!((B=U>>>24)<=w);){if(0===d)break t;d--,b+=l[c++]<<w,w+=8}if(S<16)b>>>=B,w-=B,r.lens[r.have++]=S;else{if(16===S){for(M=B+2;w<M;){if(0===d)break t;d--,b+=l[c++]<<w,w+=8}if(b>>>=B,w-=B,0===r.have){t.msg="invalid bit length repeat",r.mode=30;break}T=r.lens[r.have-1],k=3+(3&b),b>>>=2,w-=2}else if(17===S){for(M=B+3;w<M;){if(0===d)break t;d--,b+=l[c++]<<w,w+=8}w-=B,T=0,k=3+(7&(b>>>=B)),b>>>=3,w-=3}else{for(M=B+7;w<M;){if(0===d)break t;d--,b+=l[c++]<<w,w+=8}w-=B,T=0,k=11+(127&(b>>>=B)),b>>>=7,w-=7}if(r.have+k>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=30;break}for(;k--;)r.lens[r.have++]=T}}if(30===r.mode)break;if(0===r.lens[256]){t.msg="invalid code -- missing end-of-block",r.mode=30;break}if(r.lenbits=9,D={bits:r.lenbits},R=s(1,r.lens,0,r.nlen,r.lencode,0,r.work,D),r.lenbits=D.bits,R){t.msg="invalid literal/lengths set",r.mode=30;break}if(r.distbits=6,r.distcode=r.distdyn,D={bits:r.distbits},R=s(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,D),r.distbits=D.bits,R){t.msg="invalid distances set",r.mode=30;break}if(r.mode=20,6===e)break t;case 20:r.mode=21;case 21:if(6<=d&&258<=y){t.next_out=f,t.avail_out=y,t.next_in=c,t.avail_in=d,r.hold=b,r.bits=w,o(t,x),f=t.next_out,u=t.output,y=t.avail_out,c=t.next_in,l=t.input,d=t.avail_in,b=r.hold,w=r.bits,12===r.mode&&(r.back=-1);break}for(r.back=0;A=(U=r.lencode[b&(1<<r.lenbits)-1])>>>16&255,S=65535&U,!((B=U>>>24)<=w);){if(0===d)break t;d--,b+=l[c++]<<w,w+=8}if(A&&0==(240&A)){for(I=B,z=A,O=S;A=(U=r.lencode[O+((b&(1<<I+z)-1)>>I)])>>>16&255,S=65535&U,!(I+(B=U>>>24)<=w);){if(0===d)break t;d--,b+=l[c++]<<w,w+=8}b>>>=I,w-=I,r.back+=I}if(b>>>=B,w-=B,r.back+=B,r.length=S,0===A){r.mode=26;break}if(32&A){r.back=-1,r.mode=12;break}if(64&A){t.msg="invalid literal/length code",r.mode=30;break}r.extra=15&A,r.mode=22;case 22:if(r.extra){for(M=r.extra;w<M;){if(0===d)break t;d--,b+=l[c++]<<w,w+=8}r.length+=b&(1<<r.extra)-1,b>>>=r.extra,w-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;A=(U=r.distcode[b&(1<<r.distbits)-1])>>>16&255,S=65535&U,!((B=U>>>24)<=w);){if(0===d)break t;d--,b+=l[c++]<<w,w+=8}if(0==(240&A)){for(I=B,z=A,O=S;A=(U=r.distcode[O+((b&(1<<I+z)-1)>>I)])>>>16&255,S=65535&U,!(I+(B=U>>>24)<=w);){if(0===d)break t;d--,b+=l[c++]<<w,w+=8}b>>>=I,w-=I,r.back+=I}if(b>>>=B,w-=B,r.back+=B,64&A){t.msg="invalid distance code",r.mode=30;break}r.offset=S,r.extra=15&A,r.mode=24;case 24:if(r.extra){for(M=r.extra;w<M;){if(0===d)break t;d--,b+=l[c++]<<w,w+=8}r.offset+=b&(1<<r.extra)-1,b>>>=r.extra,w-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=30;break}r.mode=25;case 25:if(0===y)break t;if(k=x-y,r.offset>k){if((k=r.offset-k)>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=30;break}E=k>r.wnext?(k-=r.wnext,r.wsize-k):r.wnext-k,k>r.length&&(k=r.length),C=r.window}else C=u,E=f-r.offset,k=r.length;for(y<k&&(k=y),y-=k,r.length-=k;u[f++]=C[E++],--k;);0===r.length&&(r.mode=21);break;case 26:if(0===y)break t;u[f++]=r.length,y--,r.mode=21;break;case 27:if(r.wrap){for(;w<32;){if(0===d)break t;d--,b|=l[c++]<<w,w+=8}if(x-=y,t.total_out+=x,r.total+=x,x&&(t.adler=r.check=r.flags?a(r.check,u,x,f-x):n(r.check,u,x,f-x)),x=y,(r.flags?b:h(b))!==r.check){t.msg="incorrect data check",r.mode=30;break}w=b=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;w<32;){if(0===d)break t;d--,b+=l[c++]<<w,w+=8}if(b!==(4294967295&r.total)){t.msg="incorrect length check",r.mode=30;break}w=b=0}r.mode=29;case 29:R=1;break t;case 30:R=-3;break t;case 31:return -4;default:return -2}return t.next_out=f,t.avail_out=y,t.next_in=c,t.avail_in=d,r.hold=b,r.bits=w,(r.wsize||x!==t.avail_out&&r.mode<30&&(r.mode<27||4!==e))&&v(t,t.output,t.next_out,x-t.avail_out)?(r.mode=31,-4):(_-=t.avail_in,x-=t.avail_out,t.total_in+=_,t.total_out+=x,r.total+=x,r.wrap&&x&&(t.adler=r.check=r.flags?a(r.check,u,x,t.next_out-x):n(r.check,u,x,t.next_out-x)),t.data_type=r.bits+(r.last?64:0)+(12===r.mode?128:0)+(20===r.mode||15===r.mode?256:0),(0==_&&0===x||4===e)&&0===R&&(R=-5),R)},r.inflateEnd=function(t){if(!t||!t.state)return -2;var e=t.state;return e.window&&(e.window=null),t.state=null,0},r.inflateGetHeader=function(t,e){var r;return t&&t.state?0==(2&(r=t.state).wrap)?-2:((r.head=e).done=!1,0):-2},r.inflateSetDictionary=function(t,e){var r,i=e.length;return t&&t.state?0!==(r=t.state).wrap&&11!==r.mode?-2:11===r.mode&&n(1,e,i,0)!==r.check?-3:v(t,e,i,i)?(r.mode=31,-4):(r.havedict=1,0):-2},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,e,r){var i=t("../utils/common"),n=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,r,h,l,u,c,f){var d,p,m,g,v,y,b,w,_,x=f.bits,k=0,E=0,C=0,B=0,A=0,S=0,I=0,z=0,O=0,T=0,R=null,D=0,M=new i.Buf16(16),U=new i.Buf16(16),L=null,N=0;for(k=0;k<=15;k++)M[k]=0;for(E=0;E<h;E++)M[e[r+E]]++;for(A=x,B=15;1<=B&&0===M[B];B--);if(B<A&&(A=B),0===B)return l[u++]=20971520,l[u++]=20971520,f.bits=1,0;for(C=1;C<B&&0===M[C];C++);for(A<C&&(A=C),k=z=1;k<=15;k++)if(z<<=1,(z-=M[k])<0)return -1;if(0<z&&(0===t||1!==B))return -1;for(U[1]=0,k=1;k<15;k++)U[k+1]=U[k]+M[k];for(E=0;E<h;E++)0!==e[r+E]&&(c[U[e[r+E]]++]=E);if(y=0===t?(R=L=c,19):1===t?(R=n,D-=257,L=a,N-=257,256):(R=o,L=s,-1),k=C,v=u,I=E=T=0,m=-1,g=(O=1<<(S=A))-1,1===t&&852<O||2===t&&592<O)return 1;for(;;){for(b=k-I,_=c[E]<y?(w=0,c[E]):c[E]>y?(w=L[N+c[E]],R[D+c[E]]):(w=96,0),d=1<<k-I,C=p=1<<S;l[v+(T>>I)+(p-=d)]=b<<24|w<<16|_|0,0!==p;);for(d=1<<k-1;T&d;)d>>=1;if(0!==d?(T&=d-1,T+=d):T=0,E++,0==--M[k]){if(k===B)break;k=e[r+c[E]]}if(A<k&&(T&g)!==m){for(0===I&&(I=A),v+=C,z=1<<(S=k-I);S+I<B&&!((z-=M[S+I])<=0);)S++,z<<=1;if(O+=1<<S,1===t&&852<O||2===t&&592<O)return 1;l[m=T&g]=A<<24|S<<16|v-u|0}}return 0!==T&&(l[v+T]=k-I<<24|4194304),f.bits=A,0}},{"../utils/common":41}],51:[function(t,e,r){e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,e,r){var i=t("../utils/common");function n(t){for(var e=t.length;0<=--e;)t[e]=0}var a=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],o=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],h=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],l=Array(576);n(l);var u=Array(60);n(u);var c=Array(512);n(c);var f=Array(256);n(f);var d=Array(29);n(d);var p,m,g,v=Array(30);function y(t,e,r,i,n){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=i,this.max_length=n,this.has_stree=t&&t.length}function b(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function w(t){return t<256?c[t]:c[256+(t>>>7)]}function _(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function x(t,e,r){t.bi_valid>16-r?(t.bi_buf|=e<<t.bi_valid&65535,_(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=r-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)}function k(t,e,r){x(t,r[2*e],r[2*e+1])}function E(t,e){for(var r=0;r|=1&t,t>>>=1,r<<=1,0<--e;);return r>>>1}function C(t,e,r){var i,n,a=Array(16),o=0;for(i=1;i<=15;i++)a[i]=o=o+r[i-1]<<1;for(n=0;n<=e;n++){var s=t[2*n+1];0!==s&&(t[2*n]=E(a[s]++,s))}}function B(t){var e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function A(t){8<t.bi_valid?_(t,t.bi_buf):0<t.bi_valid&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function S(t,e,r,i){var n=2*e,a=2*r;return t[n]<t[a]||t[n]===t[a]&&i[e]<=i[r]}function I(t,e,r){for(var i=t.heap[r],n=r<<1;n<=t.heap_len&&(n<t.heap_len&&S(e,t.heap[n+1],t.heap[n],t.depth)&&n++,!S(e,i,t.heap[n],t.depth));)t.heap[r]=t.heap[n],r=n,n<<=1;t.heap[r]=i}function z(t,e,r){var i,n,s,h,l=0;if(0!==t.last_lit)for(;i=t.pending_buf[t.d_buf+2*l]<<8|t.pending_buf[t.d_buf+2*l+1],n=t.pending_buf[t.l_buf+l],l++,0===i?k(t,n,e):(k(t,(s=f[n])+256+1,e),0!==(h=a[s])&&x(t,n-=d[s],h),k(t,s=w(--i),r),0!==(h=o[s])&&x(t,i-=v[s],h)),l<t.last_lit;);k(t,256,e)}function O(t,e){var r,i,n,a=e.dyn_tree,o=e.stat_desc.static_tree,s=e.stat_desc.has_stree,h=e.stat_desc.elems,l=-1;for(t.heap_len=0,t.heap_max=573,r=0;r<h;r++)0!==a[2*r]?(t.heap[++t.heap_len]=l=r,t.depth[r]=0):a[2*r+1]=0;for(;t.heap_len<2;)a[2*(n=t.heap[++t.heap_len]=l<2?++l:0)]=1,t.depth[n]=0,t.opt_len--,s&&(t.static_len-=o[2*n+1]);for(e.max_code=l,r=t.heap_len>>1;1<=r;r--)I(t,a,r);for(n=h;r=t.heap[1],t.heap[1]=t.heap[t.heap_len--],I(t,a,1),i=t.heap[1],t.heap[--t.heap_max]=r,t.heap[--t.heap_max]=i,a[2*n]=a[2*r]+a[2*i],t.depth[n]=(t.depth[r]>=t.depth[i]?t.depth[r]:t.depth[i])+1,a[2*r+1]=a[2*i+1]=n,t.heap[1]=n++,I(t,a,1),2<=t.heap_len;);t.heap[--t.heap_max]=t.heap[1],function(t,e){var r,i,n,a,o,s,h=e.dyn_tree,l=e.max_code,u=e.stat_desc.static_tree,c=e.stat_desc.has_stree,f=e.stat_desc.extra_bits,d=e.stat_desc.extra_base,p=e.stat_desc.max_length,m=0;for(a=0;a<=15;a++)t.bl_count[a]=0;for(h[2*t.heap[t.heap_max]+1]=0,r=t.heap_max+1;r<573;r++)p<(a=h[2*h[2*(i=t.heap[r])+1]+1]+1)&&(a=p,m++),h[2*i+1]=a,l<i||(t.bl_count[a]++,o=0,d<=i&&(o=f[i-d]),s=h[2*i],t.opt_len+=s*(a+o),c&&(t.static_len+=s*(u[2*i+1]+o)));if(0!==m){do{for(a=p-1;0===t.bl_count[a];)a--;t.bl_count[a]--,t.bl_count[a+1]+=2,t.bl_count[p]--,m-=2}while(0<m)for(a=p;0!==a;a--)for(i=t.bl_count[a];0!==i;)l<(n=t.heap[--r])||(h[2*n+1]!==a&&(t.opt_len+=(a-h[2*n+1])*h[2*n],h[2*n+1]=a),i--)}}(t,e),C(a,l,t.bl_count)}function T(t,e,r){var i,n,a=-1,o=e[1],s=0,h=7,l=4;for(0===o&&(h=138,l=3),e[2*(r+1)+1]=65535,i=0;i<=r;i++)n=o,o=e[2*(i+1)+1],++s<h&&n===o||(s<l?t.bl_tree[2*n]+=s:0!==n?(n!==a&&t.bl_tree[2*n]++,t.bl_tree[32]++):s<=10?t.bl_tree[34]++:t.bl_tree[36]++,a=n,l=(s=0)===o?(h=138,3):n===o?(h=6,3):(h=7,4))}function R(t,e,r){var i,n,a=-1,o=e[1],s=0,h=7,l=4;for(0===o&&(h=138,l=3),i=0;i<=r;i++)if(n=o,o=e[2*(i+1)+1],!(++s<h&&n===o)){if(s<l)for(;k(t,n,t.bl_tree),0!=--s;);else 0!==n?(n!==a&&(k(t,n,t.bl_tree),s--),k(t,16,t.bl_tree),x(t,s-3,2)):s<=10?(k(t,17,t.bl_tree),x(t,s-3,3)):(k(t,18,t.bl_tree),x(t,s-11,7));a=n,l=(s=0)===o?(h=138,3):n===o?(h=6,3):(h=7,4)}}n(v);var D=!1;function M(t,e,r,n){x(t,0+(n?1:0),3),A(t),_(t,r),_(t,~r),i.arraySet(t.pending_buf,t.window,e,r,t.pending),t.pending+=r}r._tr_init=function(t){D||(function(){var t,e,r,i,n,h=Array(16);for(i=r=0;i<28;i++)for(d[i]=r,t=0;t<1<<a[i];t++)f[r++]=i;for(f[r-1]=i,i=n=0;i<16;i++)for(v[i]=n,t=0;t<1<<o[i];t++)c[n++]=i;for(n>>=7;i<30;i++)for(v[i]=n<<7,t=0;t<1<<o[i]-7;t++)c[256+n++]=i;for(e=0;e<=15;e++)h[e]=0;for(t=0;t<=143;)l[2*t+1]=8,t++,h[8]++;for(;t<=255;)l[2*t+1]=9,t++,h[9]++;for(;t<=279;)l[2*t+1]=7,t++,h[7]++;for(;t<=287;)l[2*t+1]=8,t++,h[8]++;for(C(l,287,h),t=0;t<30;t++)u[2*t+1]=5,u[2*t]=E(t,5);p=new y(l,a,257,286,15),m=new y(u,o,0,30,15),g=new y([],s,0,19,7)}(),D=!0),t.l_desc=new b(t.dyn_ltree,p),t.d_desc=new b(t.dyn_dtree,m),t.bl_desc=new b(t.bl_tree,g),t.bi_buf=0,t.bi_valid=0,B(t)},r._tr_stored_block=M,r._tr_flush_block=function(t,e,r,i){var n,a,o=0;0<t.level?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,r=4093624447;for(e=0;e<=31;e++,r>>>=1)if(1&r&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),O(t,t.l_desc),O(t,t.d_desc),o=function(t){var e;for(T(t,t.dyn_ltree,t.l_desc.max_code),T(t,t.dyn_dtree,t.d_desc.max_code),O(t,t.bl_desc),e=18;3<=e&&0===t.bl_tree[2*h[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),n=t.opt_len+3+7>>>3,(a=t.static_len+3+7>>>3)<=n&&(n=a)):n=a=r+5,r+4<=n&&-1!==e?M(t,e,r,i):4===t.strategy||a===n?(x(t,2+(i?1:0),3),z(t,l,u)):(x(t,4+(i?1:0),3),function(t,e,r,i){var n;for(x(t,e-257,5),x(t,r-1,5),x(t,i-4,4),n=0;n<i;n++)x(t,t.bl_tree[2*h[n]+1],3);R(t,t.dyn_ltree,e-1),R(t,t.dyn_dtree,r-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),z(t,t.dyn_ltree,t.dyn_dtree)),B(t),i&&A(t)},r._tr_tally=function(t,e,r){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&r,t.last_lit++,0===e?t.dyn_ltree[2*r]++:(t.matches++,e--,t.dyn_ltree[2*(f[r]+256+1)]++,t.dyn_dtree[2*w(e)]++),t.last_lit===t.lit_bufsize-1},r._tr_align=function(t){x(t,2,3),k(t,256,l),16===t.bi_valid?(_(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):8<=t.bi_valid&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}},{"../utils/common":41}],53:[function(t,e,r){e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,e,r){(function(t){!function(t,e){if(!t.setImmediate){var r,i,n,a,o=1,s={},h=!1,l=t.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(t);u=u&&u.setTimeout?u:t,r="[object process]"===({}).toString.call(t.process)?function(t){tt.nextTick(function(){f(t)})}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,r=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=r,e}}()?t.MessageChannel?((n=new MessageChannel).port1.onmessage=function(t){f(t.data)},function(t){n.port2.postMessage(t)}):l&&"onreadystatechange"in l.createElement("script")?(i=l.documentElement,function(t){var e=l.createElement("script");e.onreadystatechange=function(){f(t),e.onreadystatechange=null,i.removeChild(e),e=null},i.appendChild(e)}):function(t){setTimeout(f,0,t)}:(a="setImmediate$"+Math.random()+"$",t.addEventListener?t.addEventListener("message",d,!1):t.attachEvent("onmessage",d),function(e){t.postMessage(a+e,"*")}),u.setImmediate=function(t){"function"!=typeof t&&(t=Function(""+t));for(var e=Array(arguments.length-1),i=0;i<e.length;i++)e[i]=arguments[i+1];var n={callback:t,args:e};return s[o]=n,r(o),o++},u.clearImmediate=c}function c(t){delete s[t]}function f(t){if(h)setTimeout(f,0,t);else{var e=s[t];if(e){h=!0;try{!function(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(void 0,r)}}(e)}finally{c(t),h=!1}}}}function d(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(a)&&f(+e.data.slice(a.length))}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,void 0!==h?h:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[10])(10);const tf=document.getElementById("images-input"),td=document.getElementById("images"),tp=document.getElementById("download"),tm=document.getElementById("crop-width"),tg=document.getElementById("crop-height");let tv=[];const ty=()=>{for(let t of(console.log(tg.value),tv))t.cropper.setData({width:parseInt(tm.value),height:parseInt(tg.value)})};tf&&td&&tp&&(tm.addEventListener("change",ty),tg.addEventListener("change",ty),tf.value="",tf.addEventListener("change",()=>{for(;td.firstChild;)td.removeChild(td.firstChild);tv=[];let e=tf.files;if(!e||0===e.length)return;let r=document.createElement("ol");for(let i of(td.appendChild(r),e)){let e=document.createElement("li"),n=document.createElement("img");n.src=URL.createObjectURL(i);let a=new/*@__PURE__*/(t(l))(n,{cropBoxResizable:!1,data:{width:parseInt(tm.value),height:parseInt(tg.value)},dragMode:"none",zoomable:!1,responsive:!1,minContainerWidth:td.offsetWidth,minContainerHeight:td.offsetWidth}),o=document.createElement("input");o.type="range",o.min="0",o.max="180",o.value="0",o.addEventListener("input",()=>a.setData({rotate:parseInt(o.value)})),tv.push({cropper:a,imgName:i.name}),e.appendChild(n),e.appendChild(o),r.appendChild(e)}}),console.log("setup successfull"),tp.addEventListener("click",()=>{let e=new/*@__PURE__*/(t(c));for(let t=0;t<tv.length;t++)tv[t].cropper.getCroppedCanvas().toBlob(r=>{r&&(e.file(`${tv[t].imgName}.png`,r),t===tv.length-1&&e.generateAsync({type:"blob"}).then(function(t){(0,u.saveAs)(t,"cropped.zip")}))})}));